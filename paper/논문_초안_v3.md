# XGBoost와 SHAP을 활용한 서울시 아파트 매매가격 결정요인 분석

**Analysis of Determinants of Apartment Sale Prices in Seoul Using XGBoost and SHAP**

한양대학교 부동산융합대학원
도시부동산정책전공

---

# 국문초록

본 연구는 서울시 아파트 매매가격의 결정요인을 머신러닝과 설명가능한 인공지능(eXplainable AI, XAI) 기법을 활용하여 분석하였다. 전통적인 헤도닉 가격모형(Hedonic Price Model)은 부동산 가격을 구성 속성들의 함수로 설명하는 대표적 이론이나, 다중회귀분석(OLS)에 기반한 기존 접근법은 변수 간 비선형 관계와 상호작용 효과를 포착하는 데 한계가 있다. 한편, 딥러닝 등 고성능 예측 모형은 높은 정확도를 달성하지만 '블랙박스(Black Box)' 특성으로 인해 가격 형성 메커니즘을 해석하기 어렵다는 문제가 존재한다.

이러한 한계를 극복하기 위하여, 본 연구에서는 국토교통부 실거래가 공개시스템 등 공공데이터를 활용하여 2019년 1월부터 2024년 12월까지 서울시 25개 자치구의 아파트 매매 실거래 데이터 308,525건을 수집하였다. 독립변수로는 물리적 특성(전용면적, 층, 건물연령), 입지 특성(강남3구 여부), 환경 특성(초등학교수, 중학교수, 고등학교수, 공원수, 백화점수), 거시경제 특성(기준금리, CD금리, 소비자물가지수, M2) 등 13개 변수를 설정하였다. 초기 변수 설정 시 학교수(총합) 변수를 포함하였으나, 학교수가 초등학교수·중학교수·고등학교수의 합계로서 완벽한 선형결합 관계를 형성하여 분산팽창인자(VIF)가 129에 달하는 심각한 다중공선성을 야기하므로, 이를 제거하고 개별 학교급 변수만을 유지하였다. 분석 모형으로 다중회귀분석(OLS), 랜덤 포레스트(Random Forest), XGBoost를 구축하여 예측 성능을 비교하고, 최적 모형인 XGBoost에 SHAP(SHapley Additive exPlanations)을 적용하여 각 변수의 가격 결정 기여도를 분석하였다.

실증 분석 결과, XGBoost 모형은 R² 0.935, RMSE 18,653만원으로 OLS(R² 0.604)에 비해 현저히 우수한 예측 성능을 보였으며, 랜덤 포레스트(R² 0.927)를 상회하는 정확도를 달성하였다. SHAP 분석 결과, 전용면적(평균 |SHAP값| 24,811만원)이 가장 큰 영향력을 가지며, 강남 입지 여부(18,105만원), 건물연령(12,988만원), 통화량 M2(8,968만원)가 그 뒤를 이었다. 특히 강남3구와 비강남 지역의 비교분석에서는 강남 지역에서 입지 프리미엄(SHAP값 51,943만원)이 압도적으로 크게 나타나 서울 아파트 시장의 공간적 이질성을 확인하였다.

본 연구는 국내 아파트 시장에 XAI 기법을 적용하여 머신러닝 모형의 예측력과 해석력을 동시에 확보한 실증연구로서, 부동산 가격 결정요인에 대한 학술적 이해를 심화하고, 주택 정책 수립 및 부동산 자동감정평가(AVM) 모형 개선에 기여할 수 있을 것으로 기대된다.

**주제어:** 아파트 매매가격, XGBoost, SHAP, 설명가능한 인공지능(XAI), 헤도닉 가격모형, 서울 부동산 시장

---

# 감사의 글

[감사의 글 삽입]

---

# 목차

- 국문초록
- 감사의 글
- 목차
- 표 목차
- 그림 목차

## 제1장 서론
- 제1절 연구의 배경 및 목적
- 제2절 연구의 범위 및 방법
- 제3절 논문의 구성

## 제2장 이론적 배경 및 선행연구
- 제1절 헤도닉 가격모형
- 제2절 머신러닝 기반 부동산 가격 예측
- 제3절 설명가능한 인공지능(XAI)
- 제4절 선행연구 검토 및 차별성

## 제3장 연구 설계
- 제1절 연구 모형
- 제2절 분석 데이터 및 변수 설정
- 제3절 분석 방법

## 제4장 실증 분석
- 제1절 기술통계량
- 제2절 모형별 예측 성능 비교
- 제3절 SHAP 기반 변수 중요도 분석
- 제4절 강남권과 비강남권 비교분석

## 제5장 결론
- 제1절 연구 결과 요약
- 제2절 시사점
- 제3절 연구의 한계 및 향후 과제

- 참고문헌
- Abstract

---

# 표 목차

- <표 1> 독립변수 정의 및 데이터 출처
- <표 2> 기술통계량
- <표 3> 주요 변수 간 상관관계 행렬
- <표 4> OLS 회귀분석 결과
- <표 5> 다중공선성 진단 (VIF)
- <표 6> 모형별 예측 성능 비교
- <표 7> 하이퍼파라미터 설정
- <표 8> SHAP 평균 절대값 기준 변수 중요도 순위
- <표 9> 강남3구와 비강남 지역 기술통계량 비교
- <표 10> 지역별 모형 성능 비교
- <표 11> 지역별 SHAP 변수 중요도 비교

# 그림 목차

- <그림 1> 연구 흐름도
- <그림 2> XGBoost 알고리즘 개념도
- <그림 3> SHAP 분석 프레임워크
- <그림 4> SHAP Summary Plot (전체)
- <그림 5> SHAP Bar Plot (변수 중요도)
- <그림 6> 전용면적 SHAP Dependence Plot
- <그림 7> 건물연령 SHAP Dependence Plot
- <그림 8> SHAP Waterfall Plot (개별 예측 사례)
- <그림 9> 강남3구 vs 비강남 SHAP 비교

---

# 제1장 서론

## 제1절 연구의 배경 및 목적

### 1. 연구의 배경

부동산은 한국 가계 자산에서 가장 큰 비중을 차지하는 핵심 자산이다. 통계청(2024)에 따르면, 한국 가구의 평균 자산 중 부동산이 약 73%를 차지하고 있으며, 특히 서울 아파트는 자산 축적과 주거 안정의 핵심 수단으로 기능하고 있다. 서울 아파트 매매가격의 변동은 개인의 자산 가치는 물론, 가계 부채, 소비, 건설 투자 등 거시경제 전반에 광범위한 파급효과를 미친다. 이에 따라 아파트 매매가격의 결정요인을 정확히 파악하고 분석하는 것은 학술적으로나 정책적으로 매우 중요한 과제이다.

부동산 가격 결정요인 분석의 이론적 토대는 Lancaster(1966)와 Rosen(1974)이 정립한 헤도닉 가격모형(Hedonic Price Model)이다. 이 모형은 이질적 재화인 부동산의 가격이 면적, 층수, 건축연도, 입지 등 다양한 속성들의 함수로 결정된다고 설명한다. 헤도닉 가격모형은 다중회귀분석(Ordinary Least Squares, OLS)을 통해 각 속성의 암묵적 가격(implicit price)을 추정하는 방식으로 널리 활용되어 왔다. 그러나 전통적인 OLS 기반 분석은 변수 간 관계를 선형으로 가정하기 때문에, 실제 부동산 시장에서 관찰되는 비선형적 가격 형성 메커니즘과 변수 간 복잡한 상호작용 효과를 충분히 포착하지 못한다는 한계가 지적되어 왔다(Čeh et al., 2018; Limsombunchai, 2004).

이러한 한계를 극복하기 위해 최근에는 머신러닝(Machine Learning, ML) 기반의 부동산 가격 예측 연구가 활발히 진행되고 있다. 랜덤 포레스트(Random Forest), XGBoost, LightGBM 등의 앙상블 학습 모형과 LSTM(Long Short-Term Memory), GRU(Gated Recurrent Unit) 등의 딥러닝 모형이 전통적 회귀분석을 크게 상회하는 예측 성능을 보여주고 있다(Choy & Ho, 2023; Mora-García et al., 2022). 그러나 이러한 머신러닝 모형들은 대부분 '블랙박스(Black Box)' 특성을 가지고 있어, 높은 예측 정확도에도 불구하고 "왜 특정 아파트의 가격이 이렇게 형성되었는가?"라는 근본적 질문에 답하기 어렵다는 문제가 있다.

이에 대한 대안으로 최근 국제적으로 주목받고 있는 것이 설명가능한 인공지능(eXplainable AI, XAI)이다. 특히 Lundberg와 Lee(2017)가 제안한 SHAP(SHapley Additive exPlanations)은 게임이론의 Shapley value 개념을 머신러닝 모형 해석에 적용하여, 각 특성(feature)이 개별 예측에 미치는 기여도를 이론적으로 일관성 있게 분해할 수 있는 프레임워크이다. 해외에서는 SHAP을 활용한 부동산 가격 결정요인 분석 연구가 빠르게 축적되고 있으나(Neves et al., 2024; Mora-García et al., 2022; Choy & Ho, 2023), 국내에서는 XAI를 아파트 매매가격 분석에 체계적으로 적용한 연구가 매우 부족한 실정이다.

### 2. 연구의 목적

본 연구의 목적은 다음과 같다.

첫째, 서울시 아파트 매매가격에 대하여 다중회귀분석(OLS), 랜덤 포레스트(Random Forest), XGBoost 등 다양한 예측 모형을 구축하고, 각 모형의 예측 성능을 비교·평가한다.

둘째, XGBoost 모형에 SHAP 분석을 적용하여 서울시 아파트 매매가격의 결정요인별 영향력을 정량적으로 분석하고, 각 변수가 가격에 미치는 비선형적 영향 관계를 시각적으로 규명한다.

셋째, 강남3구(강남구, 서초구, 송파구)와 비강남 지역을 구분하여 가격 결정요인의 지역별 차이를 비교분석함으로써 서울 아파트 시장의 공간적 이질성(spatial heterogeneity)을 실증적으로 확인한다.

넷째, 분석 결과를 바탕으로 부동산 정책 수립 및 자동감정평가(Automated Valuation Model, AVM) 모형 개선을 위한 시사점을 도출한다.

## 제2절 연구의 범위 및 방법

### 1. 연구의 범위

본 연구의 시간적 범위는 2019년 1월부터 2024년 12월까지 약 6년간이다. 이 기간은 COVID-19 팬데믹(2020~2021), 급격한 금리 인상기(2022~2023), 금리 안정기(2024) 등 주택시장에 큰 영향을 미친 다양한 거시경제적 사건을 포함하고 있어, 거시경제 변수의 가격 결정 기여도를 분석하기에 적합하다.

공간적 범위는 서울특별시 25개 자치구 전체이며, 분석 대상은 아파트 매매 실거래 데이터이다. 총 308,525건의 거래 데이터를 분석에 활용하였다.

### 2. 연구의 방법

본 연구는 정량적 실증분석 방법을 채택하였으며, 구체적인 분석 절차는 다음과 같다.

첫째, 국토교통부 공공데이터포털(data.go.kr), 서울열린데이터광장(data.seoul.go.kr), 나이스 교육정보 개방 포털(open.neis.go.kr), 한국은행 경제통계시스템(ECOS, ecos.bok.or.kr) 등 공공데이터를 수집하여 연구 데이터셋을 구축하였다.

둘째, 수집된 데이터에 대하여 결측값 처리, 이상값 제거, 변수 변환 등 전처리를 수행하고, 기술통계 분석을 통해 데이터의 분포와 특성을 파악하였다.

셋째, 다중회귀분석(OLS), 랜덤 포레스트(Random Forest), XGBoost의 세 가지 모형을 구축하고, R², RMSE, MAE, MAPE 등의 지표를 통해 예측 성능을 비교·평가하였다.

넷째, XGBoost 모형에 SHAP 분석을 적용하여 글로벌 변수 중요도(Global Feature Importance)와 개별 예측 해석(Local Explanation)을 수행하였다.

다섯째, 전체 모형의 예측 및 SHAP값을 강남3구와 비강남 지역으로 분리하여 지역별 가격 결정 메커니즘의 차이를 비교분석하였다.

분석에는 Python 프로그래밍 언어와 scikit-learn, xgboost, shap 등의 오픈소스 라이브러리를 활용하였다.

## 제3절 논문의 구성

본 논문은 총 5개 장으로 구성된다.

제1장 서론에서는 연구의 배경과 목적, 범위 및 방법, 논문의 구성을 기술하였다.

제2장 이론적 배경 및 선행연구에서는 헤도닉 가격모형의 이론적 토대, 머신러닝 기반 부동산 가격 예측 연구의 동향, 설명가능한 인공지능(XAI)의 개념과 방법론을 고찰하고, 선행연구를 검토하여 본 연구의 차별성을 제시하였다.

제3장 연구 설계에서는 연구 모형의 프레임워크, 분석 데이터의 수집과 변수 설정, 각 분석 방법론의 구체적 내용을 기술하였다.

제4장 실증 분석에서는 기술통계량, 모형별 예측 성능 비교, SHAP 기반 변수 중요도 분석, 강남권과 비강남권의 비교분석 결과를 제시하고 논의하였다.

제5장 결론에서는 연구 결과를 요약하고, 학술적·정책적 시사점을 도출하며, 연구의 한계와 향후 과제를 제시하였다.

---

# 제2장 이론적 배경 및 선행연구

## 제1절 헤도닉 가격모형

### 1. 헤도닉 가격모형의 이론적 기초

헤도닉 가격모형(Hedonic Price Model)은 Lancaster(1966)의 소비자 이론과 Rosen(1974)의 암묵적 시장(implicit market) 이론에 근거한다. Lancaster(1966)는 소비자의 효용이 재화 자체가 아닌 재화가 보유한 **속성(characteristics)**에서 파생된다고 주장하였다. 이를 부동산에 적용하면, 주택의 가격은 주택이라는 단일 재화가 아니라 면적, 층수, 입지, 학군, 교통 편의성 등 다양한 속성들의 묶음(bundle)에 의해 결정된다.

Rosen(1974)은 이를 발전시켜 이질적 재화(differentiated products)의 시장에서 각 속성의 **암묵적 가격(implicit price)**을 추정하는 헤도닉 가격함수를 정립하였다. 이를 수식으로 표현하면 다음과 같다.

$$P = f(z_1, z_2, ..., z_n)$$

여기서 $P$는 부동산 가격, $z_i$는 $i$번째 속성을 나타낸다. 각 속성의 암묵적 가격은 헤도닉 가격함수의 편미분으로 도출된다.

$$\frac{\partial P}{\partial z_i} = p_i(z)$$

전통적으로 헤도닉 가격모형은 다중회귀분석(OLS)을 통해 추정되어 왔으며, 다음과 같은 선형 모형이 일반적으로 사용된다.

$$P = \beta_0 + \beta_1 z_1 + \beta_2 z_2 + ... + \beta_n z_n + \epsilon$$

여기서 $\beta_i$는 각 속성의 회귀계수로, 해당 속성이 가격에 미치는 한계효과를 나타낸다.

### 2. 헤도닉 가격모형의 한계

헤도닉 가격모형은 부동산 가격 결정요인 분석의 표준적 이론 프레임워크로 널리 활용되어 왔으나, OLS에 기반한 추정 방법은 다음과 같은 한계를 가진다.

첫째, 변수 간 관계를 선형으로 가정하므로, 비선형적 가격 형성 메커니즘을 포착하지 못한다. 예를 들어, 전용면적의 증가가 가격에 미치는 효과는 소형 면적에서와 대형 면적에서 상이할 수 있으나, 선형 모형에서는 이를 일정한 한계효과로만 추정한다.

둘째, 변수 간 상호작용 효과(interaction effects)를 명시적으로 지정하지 않는 한 포착하기 어렵다. 가령, 강남 지역에서의 전용면적 효과와 비강남 지역에서의 전용면적 효과가 다를 수 있으나, 기본 OLS 모형에서는 이를 반영하기 어렵다.

셋째, 다중공선성(multicollinearity) 문제에 취약하다. 부동산 가격 관련 변수들(금리, 물가, 통화량 등)은 상호 높은 상관관계를 가지는 경우가 많아, 개별 회귀계수의 추정에 불안정성을 초래할 수 있다.

이러한 한계를 극복하기 위하여 머신러닝 모형의 도입이 활발히 이루어지고 있다.

### 3. 거시경제 변수와 부동산 가격의 관계

헤도닉 가격모형이 주로 물리적·입지적 속성에 초점을 맞추는 반면, 부동산 가격은 거시경제 환경의 영향을 크게 받는다. 특히 통화량(M2)과 금리는 부동산 시장에 대한 자금 유입 경로를 결정하는 핵심 거시변수이다. 중앙은행이 통화 공급을 확대하면 시중 유동성이 증가하고, 이는 자산시장으로의 자금 유입을 촉진한다. 한국과 같이 가계자산의 상당 부분이 부동산에 편중된 경제에서는 M2의 증가가 주택 수요 증가와 가격 상승으로 직결되는 경향이 있다. 실제로 2020~2021년 COVID-19 대응을 위한 급격한 통화 확대 시기에 서울 아파트 가격이 급등한 사례는 이러한 메커니즘을 실증적으로 보여준다.

금리는 주택담보대출 비용을 통해 주택 수요에 직접적으로 영향을 미친다. 기준금리가 인하되면 대출 이자 부담이 줄어들어 주택 구매 여력이 확대되고, 반대로 금리 인상은 대출 상환 부담을 높여 수요를 위축시킨다. 다만, 기준금리와 시장금리(CD금리) 간에는 극도로 높은 상관관계(r ≈ 0.995)가 존재하여 다중회귀분석에서 심각한 다중공선성 문제를 야기한다. 소비자물가지수(CPI)는 실물자산인 부동산의 인플레이션 헤지(inflation hedge) 기능과 관련되며, 물가 상승기에 투자자들이 실질가치 보전을 위해 부동산에 대한 수요를 높이는 경로로 가격에 영향을 미친다. 이처럼 거시경제 변수들은 주택시장의 수요·공급 양 측면에서 복합적으로 작용하므로, 가격 결정요인 분석에서 이들을 포함하는 것은 필수적이다.

## 제2절 머신러닝 기반 부동산 가격 예측

### 1. 머신러닝의 부동산 분야 적용

머신러닝은 데이터로부터 패턴을 학습하여 예측을 수행하는 알고리즘의 총칭으로, 변수 간 비선형 관계와 고차원 상호작용을 자동으로 포착할 수 있다는 점에서 전통적 통계 모형의 대안으로 주목받고 있다. 부동산 분야에서의 머신러닝 활용은 Limsombunchai(2004)의 초기 연구 이후 급속히 확대되었으며, Choy와 Ho(2023)의 체계적 문헌 리뷰에 따르면 2020년 이후 관련 연구가 급격히 증가하고 있다.

Choy와 Ho(2023)의 체계적 문헌 리뷰에 따르면, 부동산 가격 예측에 활용되는 주요 머신러닝 알고리즘은 다음과 같이 분류할 수 있다.

첫째, **회귀 기반 모형**으로 릿지(Ridge), 라쏘(Lasso), 엘라스틱넷(Elastic Net) 등 정규화 회귀 모형이 있다. 이들은 OLS의 과적합 문제를 완화하지만, 기본적으로 선형 가정을 유지한다.

둘째, **트리 기반 앙상블 모형**으로 랜덤 포레스트(Random Forest; Breiman, 2001), 그래디언트 부스팅(Gradient Boosting; Friedman, 2001), XGBoost(Chen & Guestrin, 2016), LightGBM(Ke et al., 2017) 등이 있다. 이들은 비선형 관계와 변수 간 상호작용을 효과적으로 포착할 수 있으며, 특히 부동산 가격 예측에서 우수한 성능을 보여왔다(Čeh et al., 2018).

셋째, **딥러닝 모형**으로 LSTM, GRU 등의 순환신경망(RNN) 모형과 합성곱 신경망(CNN), 그래프 신경망(GNN) 등이 있다. Mora-García et al.(2022)은 COVID-19 시기 딥러닝과 앙상블 모형의 예측력을 비교하였으며, Kim et al.(2022)은 공간회귀분석을 통해 주택가격의 공간적 의존성을 분석하였다.

### 2. XGBoost 알고리즘

XGBoost(eXtreme Gradient Boosting)는 Chen과 Guestrin(2016)이 제안한 트리 기반 그래디언트 부스팅 알고리즘으로, 기존 그래디언트 부스팅 머신(GBM; Friedman, 2001)을 개선한 것이다. XGBoost의 주요 특징은 다음과 같다.

첫째, **정규화(Regularization)**: 목적함수에 L1(Lasso) 및 L2(Ridge) 정규화 항을 포함하여 과적합을 방지한다. XGBoost의 목적함수는 다음과 같다.

$$Obj = \sum_{i=1}^{n} l(y_i, \hat{y}_i) + \sum_{k=1}^{K} \Omega(f_k)$$

여기서 $l$은 손실함수, $\Omega(f_k)$는 $k$번째 트리의 정규화 항이다.

둘째, **축소(Shrinkage)**: 각 트리의 기여도에 학습률(learning rate)을 적용하여 점진적으로 학습함으로써 과적합을 방지하고 일반화 성능을 향상시킨다.

셋째, **컬럼 서브샘플링(Column Subsampling)**: 랜덤 포레스트에서 착안하여, 각 트리 또는 각 분할(split)에서 무작위로 특성의 부분집합을 선택함으로써 모형의 다양성을 확보한다.

넷째, **결측값 자동 처리**: 결측값이 있는 데이터에 대해 최적의 분할 방향을 자동으로 학습한다.

다섯째, **근사 분할 알고리즘(Approximate Split Algorithm)**: 대용량 데이터에서도 효율적인 분할점 탐색이 가능하다.

이러한 특성들로 인해 XGBoost는 다양한 분야의 구조화된 데이터(tabular data) 예측 문제에서 최고 수준의 성능을 보이고 있으며, 부동산 가격 예측에서도 높은 정확도를 달성하는 것으로 보고되고 있다(Čeh et al., 2018; Mora-García et al., 2022).

### 3. 랜덤 포레스트

랜덤 포레스트(Random Forest)는 Breiman(2001)이 제안한 앙상블 학습법으로, 다수의 의사결정 트리(decision tree)를 독립적으로 학습시킨 후 예측값의 평균(회귀)이나 다수결(분류)로 최종 결과를 산출하는 배깅(bagging) 기반 알고리즘이다. 각 트리는 전체 학습 데이터의 부트스트랩(bootstrap) 표본을 사용하며, 각 분할(split)에서 전체 특성 중 무작위로 선택된 부분집합만을 고려한다. 이를 통해 개별 트리 간의 상관관계를 줄이고 과적합을 방지한다.

Čeh et al.(2018)은 랜덤 포레스트가 다중회귀분석에 비해 비선형 관계를 효과적으로 포착하여 주택가격 예측에서 우수한 성능을 보임을 실증하였다. 본 연구에서는 랜덤 포레스트를 XGBoost의 비교 모형으로 활용한다.

## 제3절 설명가능한 인공지능(XAI)

### 1. XAI의 개념과 필요성

설명가능한 인공지능(eXplainable Artificial Intelligence, XAI)은 인공지능 모형의 의사결정 과정과 결과를 인간이 이해할 수 있는 형태로 설명하는 기법의 총칭이다. 머신러닝 모형, 특히 앙상블 모형이나 딥러닝 모형은 높은 예측 정확도를 달성하지만, 내부 작동 원리가 불투명하여 '블랙박스' 문제가 발생한다.

부동산 분야에서 XAI의 필요성은 다음과 같다.

첫째, **정책적 활용성**: 주택 정책 수립자에게 "어떤 요인이 가격에 얼마나 영향을 미치는가"에 대한 해석을 제공함으로써 증거 기반 정책 수립(evidence-based policy making)을 지원한다.

둘째, **시장 참여자의 의사결정 지원**: 매수자, 매도자, 감정평가사 등 시장 참여자들이 가격 형성의 근거를 이해하고 합리적 의사결정을 내릴 수 있도록 한다.

셋째, **모형의 신뢰성 확보**: 자동감정평가(AVM) 모형의 결과에 대한 설명을 제공함으로써 감정평가의 투명성과 신뢰성을 향상시킨다.

넷째, **편향 진단**: 머신러닝 모형에 내재된 지역적·사회경제적 편향을 진단하고 교정하는 데 XAI가 활용될 수 있다.

### 2. 주요 XAI 방법론

XAI 방법론은 크게 모형 비의존적(model-agnostic) 방법과 모형 특화적(model-specific) 방법으로 분류된다.

**모형 비의존적 방법**으로는 LIME(Local Interpretable Model-agnostic Explanations; Ribeiro et al., 2016)과 SHAP(Lundberg & Lee, 2017)이 대표적이다. LIME은 개별 예측의 국소적 근방에서 해석 가능한 대리 모형(surrogate model)을 적합하여 설명을 제공하며, SHAP은 게임이론의 Shapley value에 기반하여 이론적 일관성을 보장한다.

**모형 특화적 방법**으로는 트리 기반 모형의 내장된 특성 중요도(feature importance), 부분 의존성 플롯(Partial Dependence Plot, PDP; Friedman, 2001), 누적 국소 효과(Accumulated Local Effects, ALE) 등이 있다.

### 3. SHAP(SHapley Additive exPlanations)

SHAP은 Lundberg와 Lee(2017)가 제안한 XAI 프레임워크로, 협조적 게임이론(cooperative game theory)의 Shapley value 개념을 머신러닝 모형 해석에 적용한 것이다. Shapley value는 게임에 참여하는 각 플레이어의 기여도를 공정하게 배분하는 유일한 해(unique solution)로, 다음의 네 가지 공리(axiom)를 만족한다: 효율성(Efficiency), 대칭성(Symmetry), 더미(Dummy), 가산성(Additivity).

SHAP에서 각 특성 $j$의 Shapley value $\phi_j$는 다음과 같이 정의된다.

$$\phi_j = \sum_{S \subseteq N \setminus \{j\}} \frac{|S|!(|N|-|S|-1)!}{|N|!} [f(S \cup \{j\}) - f(S)]$$

여기서 $N$은 전체 특성의 집합, $S$는 $N$에서 특성 $j$를 제외한 부분집합, $f(S)$는 특성 집합 $S$만을 사용한 모형의 예측값이다. 즉, SHAP값은 특성 $j$가 모든 가능한 특성 조합에 추가될 때의 한계 기여도의 가중 평균이다.

개별 예측 $\hat{y}_i$는 다음과 같이 분해된다.

$$\hat{y}_i = \phi_0 + \sum_{j=1}^{M} \phi_j^{(i)}$$

여기서 $\phi_0$는 기본값(base value, 전체 데이터의 평균 예측값), $\phi_j^{(i)}$는 관측치 $i$에 대한 특성 $j$의 SHAP값이다. 이를 통해 각 예측이 기본값으로부터 어떤 특성에 의해 얼마만큼 증가 또는 감소하였는지를 정량적으로 분해할 수 있다.

특히 XGBoost 등 트리 기반 모형에 대해서는 TreeSHAP 알고리즘(Lundberg et al., 2020)을 통해 정확한 SHAP값을 다항 시간(polynomial time) 내에 효율적으로 계산할 수 있다.

SHAP 분석의 주요 시각화 도구는 다음과 같다.

- **SHAP Summary Plot**: 모든 특성의 SHAP값 분포를 동시에 표시하여 글로벌 변수 중요도와 영향 방향을 파악한다.
- **SHAP Bar Plot**: 평균 절대 SHAP값(mean |SHAP value|) 기준으로 변수 중요도를 순위화한다.
- **SHAP Dependence Plot**: 특정 변수의 값과 SHAP값 간의 관계를 산점도로 표시하여 비선형 효과를 시각화한다.
- **SHAP Waterfall Plot**: 개별 예측에 대해 기본값에서 각 특성의 기여를 순차적으로 누적하여 최종 예측값에 도달하는 과정을 표시한다.

## 제4절 선행연구 검토 및 차별성

### 1. 국내 선행연구

국내에서 머신러닝을 활용한 아파트 가격 예측 연구는 최근 활발히 진행되고 있다.

국내에서도 머신러닝을 활용한 부동산 가격 분석 연구가 축적되고 있으나, 대부분 예측 정확도 향상에 초점을 맞추고 있어 각 변수가 가격에 미치는 영향을 체계적으로 해석하는 연구는 부족한 실정이다. 본 연구는 기존 연구의 한계를 극복하여 예측력뿐만 아니라 SHAP을 통한 해석력을 동시에 확보하고자 한다.

국내에서도 다중회귀분석을 통한 아파트 가격 결정요인 연구가 수행되었으나, 비선형 관계를 포착하지 못하는 한계가 지적되어 왔다(Čeh et al., 2018).

국내에서 강남과 비강남 지역의 가격 결정요인을 비교한 연구들이 존재하나, 본 연구는 6년간의 대규모 실거래 데이터(308,525건)를 활용하고, SHAP 분석을 통한 심층적 변수 해석 및 강남/비강남 비교분석을 체계적으로 수행한다는 점에서 차별화된다.

### 2. 해외 선행연구

해외에서는 XAI를 활용한 부동산 가격 분석 연구가 2023년 이후 빠르게 축적되고 있다.

Neves et al.(2024)은 오픈데이터와 XAI를 결합하여 리스본 스마트시티의 부동산 가격을 분석하였으며, SHAP을 통해 면적, 입지, 건축연도 등의 결정요인을 규명하였다. Mora-García et al.(2022)은 COVID-19 시기 스페인 주택가격 예측에 머신러닝을 적용하여 랜덤 포레스트와 XGBoost의 우수한 성능을 확인하였다. Čeh et al.(2018)은 랜덤 포레스트와 다중회귀분석을 비교하여 머신러닝 모형의 비선형 포착 능력을 실증하였다.

### 3. 선행연구와의 차별성

기존 선행연구에 대한 검토를 바탕으로, 본 연구의 차별성은 다음과 같이 정리된다.

첫째, **방법론적 차별성**: 국내 머신러닝 부동산 연구의 대부분은 예측 정확도 비교에 초점을 두고 있으나, 본 연구는 SHAP을 통한 모형 해석에 동등한 비중을 부여하여 예측력과 해석력을 동시에 확보한다.

둘째, **데이터의 규모와 기간**: 서울시 25개 구의 308,525건 실거래 데이터를 6년간(2019~2024)에 걸쳐 분석함으로써 대규모 데이터에 기반한 강건한(robust) 결과를 도출한다.

셋째, **지역 비교분석**: 강남3구와 비강남 지역의 SHAP값을 직접 비교하여 서울 아파트 시장의 공간적 이질성을 실증적으로 확인한다.

넷째, **한국 시장 적용**: 해외 XAI 부동산 연구가 리스본, 상하이, 런던, 이스탄불 등을 대상으로 하고 있으나, 서울 아파트 시장에 XAI를 체계적으로 적용한 연구는 본 연구가 선도적이다.

---

# 제3장 연구 설계

## 제1절 연구 모형

본 연구의 전체적인 분석 프레임워크는 <그림 1>과 같다.

[그림 1 삽입]

본 연구의 종속변수는 아파트 매매 실거래가(만원)이며, 독립변수는 물리적 특성, 입지 특성, 환경 특성, 거시경제 특성의 4개 범주로 구성된 13개 변수이다. 베이스라인 모형으로 다중회귀분석(OLS)을 설정하고, 비선형 모형으로 랜덤 포레스트와 XGBoost를 구축하여 예측 성능을 비교한 후, 주 모형인 XGBoost에 SHAP 분석을 적용하여 가격 결정요인을 해석한다.

## 제2절 분석 데이터 및 변수 설정

### 1. 데이터 수집

본 연구에서 사용한 데이터는 다음의 공공데이터 출처로부터 수집하였다.

**종속변수**인 아파트 매매 실거래가는 국토교통부가 운영하는 공공데이터포털(data.go.kr)의 아파트매매 실거래자료 API를 통해 수집하였다. 분석 기간은 2019년 1월부터 2024년 12월까지이며, 서울특별시 25개 자치구를 대상으로 총 308,525건의 거래 데이터를 확보하였다.

**환경 특성 변수** 중 학교 관련 데이터(초등학교수, 중학교수, 고등학교수)는 나이스 교육정보 개방 포털(open.neis.go.kr)에서 수집하였으며, 공원수는 서울열린데이터광장(data.seoul.go.kr)의 공원정보 데이터를, 백화점수는 서울열린데이터광장의 대규모점포 인허가 데이터(LOCALDATA_072405)를 활용하였다. 다만, 환경 특성 변수는 자치구(區) 단위로 집계되어 있어, 동(洞) 또는 단지 단위의 미시적 입지 효과를 충분히 반영하지 못한다는 한계가 있다.

**거시경제 변수**(기준금리, CD금리, 소비자물가지수, M2 통화량)는 한국은행 경제통계시스템(ECOS, ecos.bok.or.kr)에서 월별 데이터를 수집하였다.

### 2. 변수 설정

본 연구에서 사용한 종속변수와 독립변수의 정의 및 데이터 출처는 <표 1>과 같다.

**<표 1> 독립변수 정의 및 데이터 출처**

| 구분 | 변수명 | 변수 설명 | 단위 | 데이터 출처 |
|------|--------|-----------|------|------------|
| 종속변수 | 실거래가 | 아파트 매매 실거래가격 | 만원 | 국토교통부 (data.go.kr) |
| 물리적 특성 | 전용면적 | 전용면적 | ㎡ | 국토교통부 |
| | 층 | 거래 층수 | 층 | 국토교통부 |
| | 건물연령 | 거래시점 기준 건축 후 경과연수 | 년 | 국토교통부 |
| 입지 특성 | 강남구분 | 강남3구(강남·서초·송파) 여부 | 더미(0/1) | 자체 생성 |
| 환경 특성 | 초등학교수 | 자치구 내 초등학교 수 | 개 | NEIS (open.neis.go.kr) |
| | 중학교수 | 자치구 내 중학교 수 | 개 | NEIS |
| | 고등학교수 | 자치구 내 고등학교 수 | 개 | NEIS |
| | 공원수 | 자치구 내 공원 수 | 개 | 서울열린데이터광장 |
| | 백화점수 | 자치구 내 대규모점포(백화점) 수 | 개 | 서울열린데이터광장 |
| 거시경제 | 기준금리 | 한국은행 기준금리 | % | 한국은행 ECOS |
| | CD금리 | 91일물 CD 유통수익률 | % | 한국은행 ECOS |
| | 소비자물가지수 | 소비자물가지수(2020=100) | 지수 | 한국은행 ECOS |
| | M2 | 광의통화(M2) | 백만원 | 한국은행 ECOS |

독립변수는 크게 4개 범주로 구성된다.

**물리적 특성**은 아파트 자체의 물리적 속성으로, 전용면적(㎡), 층수, 건물연령을 포함한다. 전용면적은 주거 공간의 크기를 나타내는 가장 기본적인 가격 결정요인이며, 층수는 조망, 채광, 소음 등과 관련된 주거 쾌적성을 반영한다. 건물연령은 거래시점 기준 건축 후 경과연수로, 건물의 노후도와 재건축 기대감을 동시에 반영하는 변수이다.

**입지 특성**은 강남3구(강남구, 서초구, 송파구) 여부를 더미변수로 설정하였다. 강남3구는 서울 아파트 시장에서 지속적으로 높은 가격 프리미엄을 형성해 온 지역으로, 교육환경, 인프라, 교통 접근성 등 복합적인 입지 우위를 대리(proxy)하는 변수이다.

**환경 특성**은 자치구 단위의 교육 및 생활편의시설 변수로 구성된다. 초등학교수, 중학교수, 고등학교수는 해당 지역의 교육환경 수준을, 공원수는 녹지 및 생활환경의 쾌적성을, 백화점수는 상업 인프라 및 생활편의시설의 수준을 반영한다. 초기 변수 설정 시 학교수(총합) 변수를 포함하였으나, 학교수 = 초등학교수 + 중학교수 + 고등학교수의 완벽한 선형결합 관계로 인해 분산팽창인자(VIF)가 129에 달하는 극심한 다중공선성이 발생하였다. 이는 OLS 회귀계수의 추정을 불안정하게 만들 뿐 아니라, 트리 기반 모형에서도 불필요한 중복 정보를 제공하므로, 학교수(총합) 변수를 제거하고 개별 학교급 변수(초등학교수, 중학교수, 고등학교수)만을 독립변수로 유지하였다.

**거시경제 특성**은 주택시장 전반에 영향을 미치는 거시경제 변수로 구성된다. 기준금리와 CD금리는 주택담보대출 금리를 통해 주택 수요에 직접적 영향을 미치며, 소비자물가지수는 물가수준의 변동을, M2(광의통화)는 시중 유동성의 수준을 반영한다.

### 3. 데이터 분할

수집된 308,525건의 데이터를 학습 데이터(training set) 70%, 검증 데이터(validation set) 10%, 테스트 데이터(test set) 20%의 비율로 분할하였다. 이에 따라 학습 데이터 215,967건, 검증 데이터 30,853건, 테스트 데이터 61,705건이 각각 배정되었다. 학습 데이터는 모형의 구축에, 검증 데이터는 XGBoost의 early stopping을 위한 조기 종료 기준으로, 테스트 데이터는 최종적인 예측 성능 평가에 사용하였다. 검증 데이터를 별도로 분리하여 early stopping에 활용함으로써 학습 데이터와 테스트 데이터 간의 정보 유출(data leakage)을 방지하였다.

## 제3절 분석 방법

### 1. 다중회귀분석(OLS)

다중회귀분석(Ordinary Least Squares, OLS)은 종속변수와 독립변수 간의 선형 관계를 추정하는 전통적 통계 방법으로, 본 연구에서 베이스라인 모형으로 활용하였다. OLS는 잔차의 제곱합을 최소화하는 방식으로 회귀계수를 추정하며, 각 독립변수의 한계효과를 직접적으로 해석할 수 있다는 장점이 있다.

$$\hat{y} = \beta_0 + \beta_1 x_1 + \beta_2 x_2 + ... + \beta_{13} x_{13} + \epsilon$$

OLS 분석에서는 비표준화 회귀계수의 통계적 유의성(t-검정), 모형 전체의 설명력(R², 수정R²), 모형의 적합도(F-검정) 등을 확인하고, 다중공선성(VIF), 잔차의 정규성, 등분산성 등 회귀 가정의 충족 여부를 진단하였다.

### 2. 랜덤 포레스트(Random Forest)

랜덤 포레스트는 Breiman(2001)이 제안한 배깅 기반 앙상블 학습법으로, 다수의 의사결정 트리를 독립적으로 학습시켜 그 예측값의 평균으로 최종 예측을 수행한다. 주요 하이퍼파라미터로는 트리의 수(n_estimators), 최대 깊이(max_depth), 최소 리프 노드 표본 수(min_samples_leaf) 등이 있다.

본 연구에서는 전체 데이터의 규모(308,525건)를 감안하여 50,000건을 무작위 추출한 후, 3-Fold 교차검증 기반의 GridSearchCV를 통해 최적의 하이퍼파라미터를 탐색하였다. 탐색 범위는 max_depth ∈ {10, 15}, min_samples_leaf ∈ {5, 10}, n_estimators = 200으로 설정하였으며, 최적 파라미터로 max_depth=15, min_samples_leaf=5, n_estimators=200이 선택되었다.

### 3. XGBoost

XGBoost(Chen & Guestrin, 2016)는 그래디언트 부스팅 프레임워크에 정규화, 축소, 컬럼 서브샘플링 등을 결합한 고성능 앙상블 학습 알고리즘이다. 주요 하이퍼파라미터로는 학습률(learning_rate), 최대 깊이(max_depth), 서브샘플링 비율(subsample, colsample_bytree) 등이 있다.

랜덤 포레스트와 동일하게 50,000건의 무작위 표본에 대하여 3-Fold 교차검증 기반의 GridSearchCV를 수행하였다. 탐색 범위는 learning_rate ∈ {0.05, 0.1}, max_depth ∈ {6, 8}, subsample = 0.8, colsample_bytree = 0.8로 설정하였으며, 최적 파라미터로 learning_rate=0.1, max_depth=8, subsample=0.8, colsample_bytree=0.8이 선택되었다. 최종 XGBoost 모형은 이 최적 파라미터를 사용하여 전체 학습 데이터(215,967건)로 학습하였으며, 검증 데이터(30,853건)를 기반으로 한 early stopping을 적용하여 최종 트리 수 998개에서 학습을 종료하였다.

모형의 일반화 성능을 확인하기 위하여 전체 학습 데이터에 대해 5-Fold 교차검증을 수행한 결과, CV R² = 0.898 ± 0.004로 안정적인 성능을 보였다.

### 4. SHAP(SHapley Additive exPlanations)

XGBoost 모형의 예측 결과를 해석하기 위하여 SHAP 분석을 수행하였다. 구체적으로 TreeSHAP 알고리즘(Lundberg et al., 2020)을 사용하여 테스트 데이터 중 5,000건을 랜덤 샘플링하여 SHAP값을 산출하고, 다음의 분석을 실시하였다.

**글로벌 해석(Global Explanation)**: SHAP Bar Plot을 통해 평균 절대 SHAP값(mean |SHAP value|) 기준의 글로벌 변수 중요도를 도출하였다. 이는 각 변수가 전체 예측에 평균적으로 얼마만큼의 영향력을 행사하는지를 나타낸다.

**변수별 영향 패턴(Feature Effect Pattern)**: SHAP Summary Plot을 통해 각 변수의 값이 가격에 미치는 영향의 방향과 크기를 동시에 시각화하였다. 또한 SHAP Dependence Plot을 통해 주요 변수와 SHAP값 간의 관계를 상세히 분석하여 비선형 효과를 확인하였다.

**개별 해석(Local Explanation)**: SHAP Waterfall Plot을 통해 특정 거래 건의 예측값이 기본값(base value)으로부터 각 변수의 기여에 의해 어떻게 형성되었는지를 시각화하였다.

### 5. 모형 평가 지표

모형의 예측 성능을 비교하기 위하여 다음의 4개 지표를 사용하였다.

**결정계수(R²)**: 모형이 종속변수의 총 변동 중 설명하는 비율을 나타낸다.

$$R^2 = 1 - \frac{\sum_{i=1}^{n}(y_i - \hat{y}_i)^2}{\sum_{i=1}^{n}(y_i - \bar{y})^2}$$

**평균 제곱근 오차(RMSE)**: 예측 오차의 크기를 원래 단위로 나타낸다.

$$RMSE = \sqrt{\frac{1}{n}\sum_{i=1}^{n}(y_i - \hat{y}_i)^2}$$

**평균 절대 오차(MAE)**: 예측 오차의 절대값 평균이다.

$$MAE = \frac{1}{n}\sum_{i=1}^{n}|y_i - \hat{y}_i|$$

**평균 절대 백분율 오차(MAPE)**: 예측 오차의 백분율 평균이다.

$$MAPE = \frac{1}{n}\sum_{i=1}^{n}\left|\frac{y_i - \hat{y}_i}{y_i}\right| \times 100$$

---

# 제4장 실증 분석

## 제1절 기술통계량

### 1. 전체 데이터 기술통계량

본 연구에서 사용한 308,525건의 서울시 아파트 매매 실거래 데이터에 대한 기술통계량은 <표 2>와 같다.

**<표 2> 기술통계량**

| 변수 | 평균 | 표준편차 | 최솟값 | 1사분위 | 중앙값 | 3사분위 | 최댓값 |
|------|------|---------|--------|---------|--------|---------|--------|
| 거래금액(만원) | 96,204 | 72,957 | 5,400 | 52,000 | 78,000 | 118,750 | 2,500,000 |
| 전용면적(㎡) | 75.66 | 30.86 | 10.02 | 59.58 | 79.07 | 84.96 | 317.36 |
| 층 | 9.39 | 6.31 | -3 | 5 | 8 | 13 | 68 |
| 건물연령(년) | 19.36 | 10.51 | -3 | 12 | 19 | 26 | 62 |
| 강남구분 | 0.17 | 0.38 | 0 | 0 | 0 | 0 | 1 |
| 초등학교수(개) | 27.46 | 8.07 | 11 | 21 | 27 | 34 | 42 |
| 중학교수(개) | 17.51 | 5.49 | 7 | 14 | 16 | 22 | 29 |
| 고등학교수(개) | 14.49 | 5.99 | 6 | 9 | 14 | 20 | 25 |
| 공원수(개) | 5.24 | 2.07 | 2 | 4 | 5 | 7 | 12 |
| 백화점수(개) | 23.81 | 34.68 | 0 | 2 | 16 | 24 | 138 |
| 기준금리(%) | 1.74 | 1.22 | 0.50 | 0.50 | 1.25 | 3.50 | 3.50 |
| CD금리(%) | 1.93 | 1.19 | 0.63 | 0.79 | 1.52 | 3.50 | 4.02 |
| 소비자물가지수 | 104.49 | 6.03 | 98.88 | 99.71 | 100.33 | 111.16 | 114.91 |
| M2(백만원) | 3,175,355 | 451,894 | 2,534,604 | 2,730,287 | 3,031,323 | 3,676,779 | 3,896,523 |

분석 기간(2019~2024) 동안 서울시 아파트 매매 실거래가의 평균은 96,204만원(약 9.6억 원) 수준이며, 표준편차가 72,957만원(약 7.3억 원)으로 매우 높은 변동성을 보인다. 이는 서울 아파트 시장 내 가격의 이질성이 크다는 것을 의미하며, 소형 아파트에서 대형 아파트까지, 비강남에서 강남까지 가격 범위가 매우 넓음을 반영한다. 최솟값 5,400만원에서 최댓값 250억 원에 이르는 극단적인 가격 차이가 존재한다.

전용면적의 평균은 75.66㎡이며, 중앙값 79.07㎡로 국민주택규모(85㎡)에 근접하는 중형 아파트가 거래의 주류를 이루고 있음을 보여준다. 강남구분 변수의 평균이 0.17이라는 것은 전체 거래의 약 17%가 강남3구(강남구, 서초구, 송파구)에서 발생하였음을 나타낸다.

건물연령의 평균은 19.36년이며, 이는 서울 아파트 재고의 상당수가 2000년대 초반에 건축되었음을 시사한다. 기준금리는 분석 기간 동안 최저 0.50%에서 최고 3.50%까지 변동하였으며, 이는 COVID-19 대응 완화정책과 이후의 긴축정책 전환을 반영한다.

### 2. 상관관계 분석

주요 변수 간의 상관관계를 분석하기 위하여 피어슨 상관계수를 산출한 결과는 <표 3>과 같다.

**<표 3> 주요 변수 간 상관관계 행렬 (피어슨 상관계수)**

| | 거래금액 | 전용면적 | 층 | 건물연령 | 강남구분 | 백화점수 | 기준금리 | CD금리 | CPI | M2 |
|---|---|---|---|---|---|---|---|---|---|---|
| 거래금액 | 1.000 | 0.606 | 0.187 | 0.011 | 0.503 | 0.412 | 0.135 | 0.131 | 0.186 | 0.198 |
| 전용면적 | 0.606 | 1.000 | 0.106 | 0.065 | 0.184 | 0.125 | -0.006 | -0.009 | -0.019 | -0.033 |
| 층 | 0.187 | 0.106 | 1.000 | -0.182 | 0.046 | 0.028 | 0.054 | 0.053 | 0.050 | 0.043 |
| 건물연령 | 0.011 | 0.065 | -0.182 | 1.000 | 0.059 | 0.093 | 0.032 | 0.032 | 0.043 | 0.038 |
| 강남구분 | 0.503 | 0.184 | 0.046 | 0.059 | 1.000 | 0.665 | 0.045 | 0.043 | 0.038 | 0.029 |
| 백화점수 | 0.412 | 0.125 | 0.028 | 0.093 | 0.665 | 1.000 | 0.037 | 0.035 | 0.032 | 0.026 |
| 기준금리 | 0.135 | -0.006 | 0.054 | 0.032 | 0.045 | 0.037 | 1.000 | 0.995 | 0.902 | 0.753 |
| CD금리 | 0.131 | -0.009 | 0.053 | 0.032 | 0.043 | 0.035 | 0.995 | 1.000 | 0.903 | 0.759 |
| CPI | 0.186 | -0.019 | 0.050 | 0.043 | 0.038 | 0.032 | 0.902 | 0.903 | 1.000 | 0.955 |
| M2 | 0.198 | -0.033 | 0.043 | 0.038 | 0.029 | 0.026 | 0.753 | 0.759 | 0.955 | 1.000 |

주: CPI = 소비자물가지수. 지면 제약상 학교수 관련 변수(초등학교수, 중학교수, 고등학교수)와 공원수는 생략하였다.

전용면적과 거래금액 간에는 0.606의 강한 양(+)의 상관관계가 나타나며, 이는 면적이 클수록 가격이 높아지는 직관적 관계를 확인해 준다. 강남구분 변수와 거래금액 간에도 0.503의 유의한 양의 상관관계가 관찰되어, 강남 지역의 가격 프리미엄을 확인할 수 있다. 백화점수와 강남구분 간의 상관계수가 0.665로 높게 나타나, 상업 인프라가 강남 지역에 집중되어 있음을 보여준다.

한편, 거시경제 변수들 간에는 매우 높은 상관관계가 관찰되었다. 기준금리와 CD금리 간 상관계수가 0.995, 소비자물가지수와 M2 간 상관계수가 0.955에 달하여, OLS 분석 시 심각한 다중공선성 문제가 우려된다. 이에 대한 구체적인 진단 결과는 제4장 제2절에서 보고한다.

### 3. 다중공선성 진단

OLS 회귀분석에 앞서 독립변수 간의 다중공선성을 진단하기 위하여 분산팽창인자(Variance Inflation Factor, VIF)를 산출한 결과는 <표 5>와 같다.

**<표 5> 다중공선성 진단 (VIF)**

| 변수 | VIF |
|------|-----|
| 기준금리 | 121.47 |
| CD금리 | 102.34 |
| 소비자물가지수 | 93.02 |
| M2 | 40.16 |
| 중학교수 | 15.46 |
| 초등학교수 | 10.90 |
| 고등학교수 | 6.09 |
| 강남구분 | 3.84 |
| 백화점수 | 2.43 |
| 공원수 | 1.21 |
| 건물연령 | 1.11 |
| 전용면적 | 1.07 |
| 층 | 1.06 |

일반적으로 VIF가 10을 초과하면 심각한 다중공선성이 존재하는 것으로 판단한다(Hair et al., 2010). 학교수(총합) 변수를 제거한 후에도 기준금리(VIF=121.47), CD금리(102.34), 소비자물가지수(93.02), M2(40.16) 등 거시경제 변수에서 매우 높은 VIF가 관찰되었으며, 중학교수(15.46)와 초등학교수(10.90)도 VIF 10을 초과하였다. 거시경제 변수들의 높은 VIF는 금리, 물가, 통화량이 경기순환과 연동되어 시계열적으로 높은 상관관계를 갖기 때문이다. 학교수(총합) 변수를 제거함으로써 최대 VIF가 129에서 121로 감소하였고, 교육 관련 변수의 VIF도 크게 낮아져(초등학교수 29→11, 중학교수 23→15, 고등학교수 27→6) 다중공선성이 상당히 완화되었다.

이러한 다중공선성은 OLS 회귀계수의 추정에 불안정성을 초래하며, 개별 변수의 한계효과 해석에 주의가 필요하다. 다만, 본 연구의 주 분석 모형인 랜덤 포레스트와 XGBoost는 트리 기반 앙상블 모형으로서 다중공선성에 강건(robust)한 특성을 가지므로(Hastie et al., 2009), 모든 변수를 유지하여 분석을 진행하였다.

## 제2절 모형별 예측 성능 비교

### 1. OLS 회귀분석 결과

다중회귀분석(OLS)의 추정 결과는 <표 4>와 같다.

**<표 4> OLS 회귀분석 결과**

| 변수 | 비표준화 회귀계수 | 표준오차 | t값 | 유의확률 |
|------|------------------|---------|-----|---------|
| (상수) | -237,937.636 | 10,996.356 | -21.638 | *** |
| 전용면적 | 1,227.758 | 3.110 | 394.822 | *** |
| 층 | 1,112.421 | 15.116 | 73.591 | *** |
| 건물연령 | -188.532 | 9.263 | -20.353 | *** |
| 강남구분 | 68,316.880 | 480.358 | 142.221 | *** |
| 초등학교수 | -525.332 | 37.873 | -13.871 | *** |
| 중학교수 | -627.634 | 66.267 | -9.471 | *** |
| 고등학교수 | -55.270 | 38.157 | -1.449 | 0.148 |
| 공원수 | 557.141 | 49.260 | 11.310 | *** |
| 백화점수 | 276.166 | 4.163 | 66.335 | *** |
| 기준금리 | 12,176.116 | 839.580 | 14.503 | *** |
| CD금리 | -21,219.465 | 787.855 | -26.933 | *** |
| 소비자물가지수 | 1,608.167 | 148.318 | 10.843 | *** |
| M2 | 0.029 | 0.001 | 22.088 | *** |

주: *** p < 0.001. 수정 R² = 0.603, F = 26,772 (p < 0.001). N = 215,967 (학습 데이터). 고등학교수는 p = 0.148로 통계적으로 유의하지 않음.

OLS 모형의 R²는 0.604(수정 R² = 0.603)로, 독립변수들이 실거래가 변동의 약 60.4%를 설명하는 것으로 나타났다. 13개 독립변수 중 고등학교수를 제외한 12개 변수의 회귀계수가 p < 0.001 수준에서 통계적으로 유의하였다. 고등학교수는 비표준화 회귀계수 -55.270(p = 0.148)으로 통계적으로 유의하지 않았는데, 이는 OLS의 선형 모형에서 고등학교수의 한계효과가 다른 교육 변수들과 중복되어 독립적 설명력을 확보하지 못하기 때문으로 해석된다. 다만, 후술할 XGBoost/SHAP 분석에서는 고등학교수의 비선형적 기여도가 확인되어, OLS의 선형 가정 하에서의 비유의성이 반드시 해당 변수의 실질적 무관련성을 의미하지는 않음을 보여준다.

전용면적의 비표준화 회귀계수는 1,227.758로, 다른 조건이 동일할 때 전용면적이 1㎡ 증가하면 매매가격이 평균 약 1,228만원 상승하는 것으로 추정되었다. 층의 회귀계수는 1,112.421로, 1층 상승 시 약 1,112만원의 가격 상승이 나타났다. 건물연령의 회귀계수는 -188.532로, 건물연령이 1년 증가할 때 약 189만원의 가격 하락이 추정되었다.

강남구분의 회귀계수는 68,316.880으로, 강남3구 소재 아파트가 비강남 대비 평균 약 6.8억 원의 가격 프리미엄을 가지는 것으로 나타났다. 학교수(총합) 변수를 제거하고 개별 학교급 변수만을 유지한 본 모형에서 강남구분의 계수가 v2 모형(63,663) 대비 증가한 것은, 기존에 학교수 변수가 일부 흡수하던 지역 효과가 강남구분에 재배분되었기 때문으로 해석된다.

거시경제 변수에서는 CD금리의 회귀계수가 -21,219.465로, CD금리 1%p 상승 시 약 2.1억 원의 가격 하락이 추정되었다. 반면, 기준금리의 회귀계수는 12,176.116로 양(+)의 부호를 보였는데, 이는 기준금리와 CD금리 간의 극도로 높은 상관관계(r=0.995)로 인한 다중공선성의 영향으로 해석된다. 즉, 개별 계수의 부호보다는 금리 변수 전체의 순효과를 종합적으로 해석해야 한다.

M2의 회귀계수는 0.029로, M2가 100만원(= 1백만원) 증가할 때 매매가격이 약 0.029만원 상승하는 것으로 나타났다. M2의 단위가 백만원임을 감안하면, M2가 1조원(= 1,000,000백만원) 증가 시 약 29,000만원(2.9억 원)의 가격 상승이 추정되어, 시중 유동성이 아파트 가격에 상당한 영향을 미치고 있음을 확인하였다.

다만, 앞서 진단한 바와 같이 다수의 변수에서 심각한 다중공선성이 존재하므로, 개별 회귀계수의 해석에는 주의가 필요하다. R²가 0.604에 그치는 것은 OLS의 선형 가정이 실제 부동산 시장의 복잡한 비선형적 가격 형성 메커니즘을 충분히 반영하지 못함을 시사한다.

### 2. 하이퍼파라미터 설정

랜덤 포레스트와 XGBoost의 최적 하이퍼파라미터는 <표 7>과 같다.

**<표 7> 하이퍼파라미터 설정**

| 구분 | 하이퍼파라미터 | 값 |
|------|--------------|-----|
| **Random Forest** | n_estimators | 200 |
| | max_depth | 15 |
| | min_samples_leaf | 5 |
| **XGBoost** | n_estimators (early stopping) | 998 |
| | learning_rate | 0.1 |
| | max_depth | 8 |
| | subsample | 0.8 |
| | colsample_bytree | 0.8 |

주: GridSearchCV는 50,000건 랜덤 표본에 대해 3-Fold 교차검증으로 수행. XGBoost의 n_estimators는 검증 데이터 기반 early stopping에 의해 결정.

### 3. 모형별 예측 성능 비교

세 가지 모형의 테스트 데이터(61,705건)에 대한 예측 성능을 비교한 결과는 <표 6>과 같다.

**<표 6> 모형별 예측 성능 비교**

| 모형 | R² | RMSE(만원) | MAE(만원) | MAPE(%) |
|------|-----|-----------|----------|---------|
| OLS | 0.604 | 45,936 | 30,390 | 40.07 |
| Random Forest | 0.927 | 19,728 | 11,590 | 14.03 |
| XGBoost | 0.935 | 18,653 | 10,225 | 12.44 |

머신러닝 모형(Random Forest, XGBoost)은 OLS에 비해 현저히 우수한 예측 성능을 보였다. R² 기준으로 OLS(0.604)에 비해 Random Forest(0.927)와 XGBoost(0.935)는 약 0.32~0.33 포인트 이상 높은 설명력을 달성하였다. 이는 부동산 가격 결정 메커니즘에 변수 간 비선형 관계와 상호작용 효과가 상당히 존재하며, 머신러닝 모형이 이를 효과적으로 포착하고 있음을 의미한다.

RMSE 기준으로 OLS의 45,936만원(약 4.6억 원) 대비 XGBoost는 18,653만원(약 1.9억 원) 수준으로, 예측 오차가 약 59% 감소하였다. MAPE 역시 OLS의 40.07%에서 XGBoost의 12.44%로 크게 개선되었다.

XGBoost가 Random Forest보다 R² 기준 0.008 포인트 높고, RMSE는 약 1,075만원 낮으며, MAPE는 1.59%p 낮은 성능을 보여, 전반적으로 XGBoost가 가장 우수한 예측 성능을 달성하였다. 이에 더하여 XGBoost는 TreeSHAP을 통한 효율적인 해석이 가능하다는 장점이 있어, 본 연구에서는 XGBoost를 주 분석 모형으로 채택하였다.

이러한 결과는 기존 선행연구의 결과와 일관된다. Čeh et al.(2018)은 Random Forest가 다중회귀에 비해 주택가격 예측에서 우수한 성능을 보임을 실증하였으며, Mora-García et al.(2022)은 COVID-19 시기 머신러닝 모형이 주택가격 예측에서 높은 정확도를 달성함을 보고하였다.

## 제3절 SHAP 기반 변수 중요도 분석

### 1. 글로벌 변수 중요도

XGBoost 모형에 SHAP을 적용하여 산출한 글로벌 변수 중요도(평균 절대 SHAP값 기준)는 <표 8> 및 그림 5와 같다.

**<표 8> SHAP 평균 절대값 기준 변수 중요도 순위**

| 순위 | 변수 | 평균 |SHAP값| (만원) | 비중(%) |
|------|------|----------------------|-------|
| 1 | 전용면적 | 24,811 | 23.6 |
| 2 | 강남구분 | 18,105 | 17.2 |
| 3 | 건물연령 | 12,988 | 12.3 |
| 4 | M2 | 8,968 | 8.5 |
| 5 | 백화점수 | 6,130 | 5.8 |
| 6 | 소비자물가지수 | 5,602 | 5.3 |
| 7 | 중학교수 | 4,733 | 4.5 |
| 8 | 초등학교수 | 4,663 | 4.4 |
| 9 | 공원수 | 3,993 | 3.8 |
| 10 | 층 | 3,585 | 3.4 |
| 11 | CD금리 | 2,188 | 2.1 |
| 12 | 고등학교수 | 1,592 | 1.5 |
| 13 | 기준금리 | 1,180 | 1.1 |

[그림 5 삽입]

SHAP 분석 결과, **전용면적**이 평균 |SHAP값| 24,811만원(약 2.5억 원)으로 가장 큰 영향력을 가지는 것으로 나타났다. 이는 전용면적이 아파트 가격의 가장 핵심적인 결정요인임을 확인해 주는 결과로, 기존 헤도닉 가격모형 연구들의 결과와 일관된다.

**강남구분**(18,105만원)이 두 번째로 큰 영향력을 보였다. 이는 서울 아파트 시장에서 강남 입지 프리미엄이 물리적 특성인 건물연령이나 거시경제 변수보다 더 큰 가격 결정력을 가진다는 것을 의미한다. 강남3구 여부라는 단일 더미변수가 가격에 평균적으로 약 1.8억 원의 영향을 미친다는 것은, 서울 아파트 시장의 공간적 양극화를 명확히 보여주는 결과이다.

**건물연령**(12,988만원)은 세 번째 주요 결정요인으로, 건물의 노후도와 재건축 기대감이 가격에 미치는 영향이 상당함을 시사한다. 건물연령의 SHAP값은 단순한 선형 관계가 아닌, 특정 연한 이상에서 재건축 기대감에 의한 가격 반등 가능성을 내포하는 비선형적 패턴을 보였다(제3항 참조).

**M2 통화량**(8,968만원)은 거시경제 변수 중 가장 큰 영향력을 보였다. 이는 시중 유동성이 풍부할수록 부동산 시장으로 자금이 유입되어 가격을 상승시키는 메커니즘을 반영한다. 소비자물가지수(5,602만원)도 유의한 영향을 미치는 것으로 나타나, 물가 상승이 실물자산인 부동산의 가치를 높이는 인플레이션 헤지(inflation hedge) 효과를 확인할 수 있다.

환경 특성 변수 중에서는 **백화점수**(6,130만원)가 가장 큰 영향력을 보였으며, 이는 상업 인프라가 풍부한 지역일수록 아파트 가격이 높아지는 경향을 반영한다. **중학교수**(4,733만원)와 **초등학교수**(4,663만원), **공원수**(3,993만원)도 유의한 영향을 미치는 것으로 나타나, 교육환경과 녹지환경이 아파트 가격의 결정에 기여하고 있음을 확인하였다. 학교수(총합) 변수를 제거한 후에도 개별 학교급 변수들이 독립적인 SHAP 기여도를 보여, 학교급별로 차별화된 가격 영향이 존재함을 확인하였다.

**층**(3,585만원)은 물리적 특성 변수 중 상대적으로 영향력이 작게 나타났으나, 이는 평균적 영향을 나타내는 것이므로 고층과 저층 간의 가격 차이는 개별 사례에서 상당할 수 있다.

하위 순위 변수인 **CD금리**(2,188만원), **고등학교수**(1,592만원), **기준금리**(1,180만원)도 유의한 영향을 미치는 것으로 나타났다. 특히 고등학교수는 OLS에서 통계적으로 유의하지 않았으나(p = 0.148), XGBoost/SHAP 분석에서는 평균 |SHAP값| 1,592만원의 비선형 기여도가 확인되었다. 이는 OLS의 선형 가정 하에서 포착되지 않는 고등학교수의 비선형적 가격 영향이 트리 기반 모형에서는 감지됨을 의미하며, XAI 접근법의 분석적 우위를 보여주는 사례이다. 금리 변수(CD금리, 기준금리)의 SHAP 영향력이 상대적으로 낮은 것은 주목할 만한데, 이는 OLS에서 CD금리의 회귀계수가 매우 크게 나타난 것과 대비된다. 이러한 차이는 OLS에서의 다중공선성 문제로 인해 금리 변수의 개별 효과가 과대 추정된 반면, SHAP은 변수 간 상호작용을 고려하여 각 변수의 실제 기여도를 보다 정확하게 분리하기 때문으로 해석된다.

### 2. SHAP 분석과 OLS 회귀계수 비교

SHAP 분석의 변수 중요도 순위와 OLS 회귀분석의 결과를 비교하면, 두 방법 간에 주목할 만한 차이가 관찰된다.

OLS에서는 전용면적이 가장 큰 t값(394.822)을 보인 데 이어, 강남구분(t=142.221), 층(t=73.591), 백화점수(t=66.335) 등이 통계적 유의성이 높은 변수로 나타났다. 그러나 SHAP 분석에서는 건물연령(3위), M2(4위), 백화점수(5위) 등이 OLS에서의 상대적 순위와 상이하게 나타났다.

특히 **건물연령**은 OLS에서 회귀계수가 -188.532에 불과하여(t=-20.353) 상대적으로 작은 영향력을 보였으나, SHAP 분석에서는 12,988만원으로 3위의 영향력을 나타냈다. 이는 건물연령이 가격에 미치는 비선형적 효과(예: 재건축 기대감에 의한 U자형 관계)가 선형 모형인 OLS에서는 충분히 포착되지 못하기 때문으로 해석된다.

이러한 결과는 비선형 머신러닝 모형과 SHAP의 조합이 전통적 OLS 분석보다 변수의 실제 영향력을 보다 정확하게 파악할 수 있음을 시사한다.

### 3. SHAP Dependence Plot을 통한 비선형 효과 분석

[그림 6 삽입]

전용면적에 대한 SHAP Dependence Plot(그림 6)에서는 면적이 증가할수록 SHAP값이 양(+)의 방향으로 증가하는 전반적 패턴이 나타났다. 그러나 그 증가 속도는 선형적이지 않으며, 소형 면적(약 40㎡ 이하)에서 중형 면적(약 60~85㎡)으로의 전환 구간에서 급격한 SHAP값 증가가 나타났고, 대형 면적(약 130㎡ 이상)에서는 SHAP값의 증가 속도가 다소 체감하는 패턴을 보였다. 이는 전용면적과 가격 간의 비선형적 관계를 직관적으로 확인해 주는 결과이다.

[그림 7 삽입]

건물연령에 대한 SHAP Dependence Plot(그림 7)에서는 건물연령이 증가할수록 SHAP값이 음(-)의 방향으로 감소하는 기본적 패턴이 나타났으나, 약 25~30년 이상의 구간에서 SHAP값이 다시 상승 전환하는 U자형(또는 J자형) 패턴이 나타났다. 이는 노후 아파트에 대한 재건축 기대감이 가격에 반영되는 서울 부동산 시장의 고유한 특성을 반영하는 것으로 해석된다.

### 4. SHAP Waterfall Plot: 개별 예측 해석

[그림 8 삽입]

SHAP Waterfall Plot(그림 8)은 특정 아파트 거래 건의 예측가격이 기본값(base value, 전체 데이터의 평균 예측가격)으로부터 각 변수의 기여에 의해 어떻게 형성되었는지를 시각적으로 보여준다.

예를 들어, 강남구 소재, 전용면적 84㎡, 12층, 건물연령 10년인 아파트의 경우, 기본값에서 전용면적이 양(+)의 기여로 약 2억 원을 추가하고, 강남 입지가 약 1.5억 원을 추가하며, 낮은 건물연령이 약 0.5억 원을 추가하여 최종 예측가격에 도달하는 과정을 확인할 수 있다. 반면, 거시경제 변수(금리 등)의 상태에 따라 일부 음(-)의 기여가 관찰될 수도 있다.

이러한 개별 해석 기능은 부동산 감정평가에서 "해당 물건의 가격이 왜 이렇게 산정되었는가?"에 대한 투명한 근거를 제공할 수 있어, 자동감정평가(AVM) 모형의 실무적 활용성을 크게 높일 수 있다.

## 제4절 강남권과 비강남권 비교분석

### 1. 분석 방법

강남3구(강남구, 서초구, 송파구)와 비강남 지역의 가격 결정 메커니즘 차이를 분석하기 위하여, 전체 데이터로 학습한 XGBoost 모형의 예측 및 SHAP값을 지역별로 분리하여 비교 분석하였다. 즉, 별도의 모형을 구축하는 것이 아니라 동일한 모형의 결과를 지역별로 분리하여 SHAP값의 차이를 비교함으로써, 동일한 모형 구조하에서 지역에 따른 가격 결정요인의 상대적 중요도 변화를 파악하였다.

### 2. 지역별 데이터 기술통계량

강남3구와 비강남 지역의 기술통계량 비교는 <표 9>와 같다.

**<표 9> 강남3구와 비강남 지역 기술통계량 비교**

| 구분 | 거래 건수 | 평균 실거래가(만원) | 표준편차(만원) |
|------|----------|-------------------|--------------|
| 강남3구 | 10,647 | 177,073 | 103,201 |
| 비강남 | 51,058 | 79,391 | 50,650 |
| 전체 | 61,705 | 96,245 | 72,958 |

주: 테스트 데이터 기준. 수치는 v2와 동일(데이터 분할 동일).

주: 테스트 데이터 기준

강남3구의 평균 실거래가는 177,073만원(약 17.7억 원)으로 비강남(79,391만원, 약 7.9억 원)의 약 2.2배에 달한다. 강남3구의 표준편차(103,201만원)도 비강남(50,650만원)의 약 2배로, 가격 수준뿐 아니라 가격의 분산도 크게 나타났다. 이는 서울 아파트 시장에서 강남과 비강남 간의 극심한 가격 격차를 명확히 보여주는 결과이다. 강남3구의 거래 건수는 10,647건으로 전체의 약 17.3%를 차지한다.

### 3. 지역별 모형 성능 비교

전체 모형의 지역별 예측 성능을 비교한 결과는 <표 10>과 같다.

**<표 10> 지역별 모형 성능 비교**

| 구분 | 건수 | R² | RMSE(만원) | MAE(만원) |
|------|------|-----|-----------|----------|
| 강남3구 | 10,647 | 0.901 | 32,492 | 19,600 |
| 비강남 | 51,058 | 0.922 | 14,154 | 8,270 |
| 전체 | 61,705 | 0.935 | 18,653 | 10,225 |

비강남 지역의 R²(0.922)가 강남3구(0.901)보다 높게 나타났다. 이는 강남3구 아파트의 가격 변동성이 비강남보다 크고, 본 연구에서 사용한 변수만으로는 강남 지역의 가격 결정 메커니즘을 완전히 설명하기 어려움을 시사한다. 강남 지역에서는 학군의 질적 수준, 재건축 추진 단계, 브랜드 프리미엄 등 정량화하기 어려운 요인들이 추가적으로 작용하고 있을 것으로 판단된다.

RMSE는 강남3구(32,492만원)가 비강남(14,154만원)보다 약 2.3배 높게 나타났는데, 이는 강남3구의 절대적 가격 수준이 높아 오차의 절대값도 크게 나타나는 것으로, 가격 수준의 차이를 감안하면 예상되는 결과이다. 전체 모형의 R²(0.935)가 각 지역별 R²보다 높은 것은 강남/비강남 간 가격 수준 차이 자체를 모형이 잘 포착하고 있기 때문이다.

### 4. 지역별 SHAP 변수 중요도 비교

강남3구와 비강남 지역의 SHAP 변수 중요도 비교는 <표 11> 및 그림 9와 같다.

**<표 11> 지역별 SHAP 변수 중요도 비교 (평균 |SHAP값|, 만원)**

| 순위 | 변수 | 강남3구 | 비강남 | 차이 |
|------|------|--------|--------|------|
| 1 | 강남구분 | 51,943 | 10,748 | 41,195 |
| 2 | 전용면적 | 40,687 | 21,360 | 19,327 |
| 3 | 건물연령 | 21,809 | 11,070 | 10,739 |
| 4 | 백화점수 | 12,114 | 4,829 | 7,285 |
| 5 | M2 | 10,986 | 8,529 | 2,457 |
| 6 | 소비자물가지수 | 10,293 | 4,582 | 5,711 |
| 7 | 초등학교수 | 7,180 | 4,116 | 3,065 |
| 8 | 층 | 5,987 | 3,063 | 2,924 |
| 9 | 공원수 | 3,123 | 4,182 | -1,058 |
| 10 | 중학교수 | 3,187 | 5,069 | -1,882 |
| 11 | CD금리 | 3,150 | 1,979 | 1,171 |
| 12 | 고등학교수 | 1,938 | 1,516 | 422 |
| 13 | 기준금리 | 1,642 | 1,079 | 563 |

[그림 9 삽입]

강남3구와 비강남 지역의 SHAP 변수 중요도를 비교하면, 가격 결정 메커니즘에 구조적 차이가 존재함을 확인할 수 있다.

**첫째**, 강남3구에서 **강남구분** 변수의 SHAP값이 51,943만원(약 5.2억 원)으로 압도적 1위를 차지하였다. 이는 강남 내에서도 강남이라는 입지 자체가 가격에 약 5.2억 원의 프리미엄을 부여한다는 것을 의미한다. 비강남 지역에서도 강남구분의 SHAP값이 10,748만원으로 나타나는데, 이는 비강남 지역의 아파트가 '강남이 아니라는 것' 자체가 가격을 약 1.1억 원 낮추는 방향으로 작용하고 있음을 의미한다.

**둘째**, **전용면적**의 영향력이 강남3구(40,687만원)에서 비강남(21,360만원)보다 약 1.9배 크게 나타났다. 이는 강남 지역에서 면적 한 단위의 가격 프리미엄이 비강남보다 크다는 것, 즉 강남의 단위면적당 가격 탄력성이 더 높음을 의미한다.

**셋째**, **건물연령**은 두 지역 모두에서 3위의 영향력을 보이나, 강남3구(21,809만원)에서 비강남(11,070만원)보다 약 2.0배 큰 영향력을 가진다. 이는 강남 지역에서 재건축 기대감의 가격 반영 효과가 비강남보다 현저히 크다는 것을 시사한다.

**넷째**, 비강남 지역에서는 **중학교수**(5,069만원)가 상위 결정요인으로 나타났으며, 이는 강남3구(3,187만원)보다 약 1.6배 큰 영향력을 보였다. 이는 비강남 지역에서 교육환경, 특히 중학교의 존재가 아파트 가격에 유의미한 영향을 미치고 있음을 보여준다. 강남3구에서는 교육환경의 질적 수준이 전반적으로 높아 학교 수 자체의 변별력이 상대적으로 낮을 수 있는 반면, 비강남 지역에서는 교육 인프라의 양적 차이가 가격 결정에 보다 직접적으로 반영되는 것으로 해석된다. 한편, **초등학교수**는 강남3구(7,180만원)에서 비강남(4,116만원)보다 약 1.7배 높은 영향력을 보여, 교육 변수의 지역별 영향 패턴이 학교급에 따라 상이함을 확인하였다.

**다섯째**, **공원수**는 비강남(4,182만원)에서 강남3구(3,123만원)보다 다소 높은 영향력을 보였다. 이는 비강남 지역에서 녹지환경의 가격 영향이 상대적으로 크게 작용하고 있음을 시사한다.

### 5. 소결

강남3구와 비강남 지역의 비교분석 결과는 서울 아파트 시장의 공간적 이질성(spatial heterogeneity)을 명확히 확인해 준다. 강남 지역에서는 입지 프리미엄이 가장 지배적인 가격 결정요인으로 작용하며, 면적과 건물연령의 영향력도 비강남 대비 크게 나타난다. 반면, 비강남 지역에서는 교육환경(중학교수)과 같은 생활 인프라 변수의 가격 결정력이 상대적으로 높게 나타나, 두 지역의 가격 형성 메커니즘이 구조적으로 상이함을 확인하였다.

이러한 결과는 주택 정책 수립 시 지역별 차별화된 접근이 필요함을 시사하며, Neves et al.(2024)이 리스본 시장에서 확인한 입지 특성의 차별적 가격 영향과도 맥을 같이 한다.

---

# 제5장 결론

## 제1절 연구 결과 요약

본 연구는 서울시 아파트 매매가격의 결정요인을 머신러닝(XGBoost)과 설명가능한 인공지능(SHAP)을 활용하여 분석하였다. 2019년 1월부터 2024년 12월까지 서울시 25개 자치구의 308,525건 실거래 데이터를 대상으로 OLS, Random Forest, XGBoost의 세 모형을 비교하고, XGBoost 모형에 SHAP 분석을 적용하여 가격 결정요인의 영향력과 비선형적 관계를 규명하였다. 주요 연구 결과를 요약하면 다음과 같다.

첫째, 예측 성능 측면에서 XGBoost(R² 0.935)가 Random Forest(R² 0.927)와 OLS(R² 0.604)를 크게 상회하였다. 이는 아파트 가격 결정에 변수 간 비선형 관계와 상호작용 효과가 상당히 존재하며, 머신러닝 모형이 이를 효과적으로 포착하고 있음을 입증한다. XGBoost 모형의 5-Fold 교차검증 R²는 0.898 ± 0.004로 안정적인 일반화 성능을 보였다.

둘째, SHAP 분석 결과, 전용면적(평균 |SHAP값| 24,811만원)이 가장 큰 가격 결정력을 가지며, 강남 입지(18,105만원), 건물연령(12,988만원), M2 통화량(8,968만원), 백화점수(6,130만원), 소비자물가지수(5,602만원) 등이 주요 결정요인으로 도출되었다. 특히 건물연령은 OLS에서 포착하기 어려운 비선형적 영향 패턴(U자형)을 보이는 것으로 확인되었다.

셋째, 강남3구와 비강남 지역의 비교분석에서 서울 아파트 시장의 뚜렷한 공간적 이질성이 확인되었다. 강남 지역에서는 입지 프리미엄(SHAP값 51,943만원)이 압도적 결정요인으로 작용하는 반면, 비강남 지역에서는 전용면적이 최대 결정요인이며, 교육환경(중학교수 5,069만원)의 영향력이 강남(3,187만원) 대비 약 1.6배 높게 나타났다.

넷째, SHAP의 개별 해석(Waterfall Plot) 기능을 통해 특정 아파트 거래 건의 가격 형성 근거를 투명하게 분해할 수 있음을 확인하였으며, 이는 부동산 자동감정평가(AVM) 모형의 실무적 활용 가능성을 시사한다.

다섯째, OLS 분석에서 기준금리(VIF=121.47), CD금리(VIF=102.34) 등 다수의 변수에서 심각한 다중공선성이 확인되었으나, 트리 기반 앙상블 모형(RF, XGBoost)은 이에 강건한 성능을 보여, 머신러닝 접근법의 실용적 우위를 확인하였다.

## 제2절 시사점

### 1. 학술적 시사점

첫째, 본 연구는 국내 아파트 시장에 XAI(SHAP)를 체계적으로 적용하여 머신러닝 모형의 예측력과 해석력을 동시에 확보한 실증연구로서, 헤도닉 가격모형의 이론적 전통과 머신러닝의 예측 성능을 결합하는 새로운 분석 프레임워크를 제시하였다.

둘째, SHAP 분석을 통해 OLS의 선형 가정으로는 포착되지 않는 변수들의 비선형적 가격 영향 패턴(예: 건물연령의 U자형 효과, 전용면적의 체감효과)을 규명함으로써, 부동산 가격 결정요인에 대한 이해를 심화하였다.

셋째, 강남3구와 비강남 지역의 SHAP값 비교를 통해 서울 아파트 시장의 공간적 이질성을 정량적으로 확인하였으며, 이는 향후 부동산 연구에서 지역 단위의 세분화된 분석 필요성을 뒷받침한다.

### 2. 정책적 시사점

첫째, 강남3구에서 입지 프리미엄이 압도적으로 큰 가격 결정요인으로 작용한다는 결과는, 서울 아파트 시장의 가격 양극화가 구조적 요인에 기인하며 단기적 정책으로 해소하기 어렵다는 것을 시사한다. 강남 가격 안정화를 위해서는 공급 확대와 함께 비강남 지역의 생활 인프라(교육, 상업, 교통) 투자를 통한 지역 간 격차 해소가 병행되어야 할 것이다.

둘째, M2 통화량이 주요 가격 결정요인으로 나타난 것은, 통화·금융 정책이 부동산 시장에 미치는 영향이 상당함을 재확인해 준다. 유동성 확대가 주택가격 상승으로 전이되는 경로를 주택 정책 설계 시 고려할 필요가 있다.

셋째, 비강남 지역에서 교육환경(중학교수)이 가격에 유의한 영향을 미치는 것은, 교육 인프라 투자가 지역 균형 발전과 주택가격 안정에 기여할 수 있음을 시사한다.

넷째, SHAP 기반의 투명한 가격 분해 기능은 부동산 자동감정평가(AVM) 시스템의 신뢰성을 높이는 데 활용될 수 있으며, 향후 부동산 감정평가의 디지털 전환에 기여할 수 있을 것이다.

### 3. 실무적 시사점

첫째, 부동산 투자자와 매수자는 SHAP 분석 결과를 참고하여 아파트 가격에 가장 큰 영향을 미치는 요인(전용면적, 입지, 건물연령)을 중심으로 의사결정을 할 수 있다.

둘째, 프롭테크(PropTech) 기업들은 XGBoost-SHAP 프레임워크를 활용하여 가격 추정의 근거를 사용자에게 투명하게 제공하는 서비스를 개발할 수 있다. 이는 XAI 기반 AVM의 실무적 구현에 해당한다.

셋째, 감정평가 실무에서 머신러닝 모형을 보조 도구로 활용할 경우, SHAP을 통한 해석 기능이 감정평가사의 전문적 판단을 보완하고 평가의 일관성을 높이는 데 기여할 수 있다.

## 제3절 연구의 한계 및 향후 과제

본 연구의 한계와 향후 연구 과제는 다음과 같다.

첫째, 본 연구에서 사용한 환경 특성 변수가 자치구(區) 단위로 집계되어 있어, 동(洞) 또는 단지 단위의 미시적 입지 효과를 충분히 반영하지 못하였다. 향후 연구에서는 지하철역까지의 거리, 학원 수, 공원까지의 거리 등 보다 세분화된 미시적 입지 변수를 포함하여 분석의 정밀도를 높일 필요가 있다.

둘째, 본 연구는 단지 브랜드, 조망권, 내부 인테리어 상태, 재건축 추진 단계 등 정량화가 어려운 질적 변수를 포함하지 못하였다. 이러한 변수들은 특히 강남 지역의 가격 결정에 상당한 영향을 미칠 것으로 예상되며, 향후 텍스트 마이닝이나 이미지 분석 등의 기법을 통해 질적 정보를 변수화하는 시도가 필요하다.

셋째, 공간적 자기상관(spatial autocorrelation) 효과를 명시적으로 모형에 반영하지 않았다. Anselin(1988)과 Fotheringham et al.(2002)이 제시한 공간계량경제학적 접근법이나, Kim et al.(2022)의 공간회귀분석 등을 결합하여 공간적 의존성을 고려한 분석이 향후 필요하다.

넷째, 본 연구의 분석 기간(2019~2024)은 COVID-19 팬데믹과 급격한 금리 변동이라는 비정상적 시장 상황을 포함하고 있어, 결과의 일반화에 주의가 필요하다. 향후 보다 긴 기간의 데이터를 활용하거나, 시기별 구조 변화(structural break)를 명시적으로 고려한 분석이 이루어져야 할 것이다.

다섯째, XGBoost 외에 LightGBM(Ke et al., 2017), CatBoost 등 다양한 그래디언트 부스팅 알고리즘과의 비교 분석을 수행하지 못하였다. 또한 SHAP 외에 LIME(Ribeiro et al., 2016), ALE 등 다른 XAI 방법론과의 비교를 통해 분석의 강건성을 확인하는 것이 향후 과제이다.

여섯째, 본 연구의 방법론을 서울 외 수도권이나 지방 대도시에 적용하여 지역별 가격 결정 메커니즘의 차이를 비교하는 연구로 확장할 수 있을 것이다.

---

# 참고문헌

## 국내문헌

- 통계청 (2024). 가계금융복지조사 결과. 통계청.

## 해외문헌

- Anselin, L. (1988). *Spatial Econometrics: Methods and Models*. Dordrecht: Kluwer Academic Publishers.
- Breiman, L. (2001). Random forests. *Machine Learning*, 45(1), 5-32.
- Čeh, M., Kilibarda, M., Lisec, A. & Bajat, B. (2018). Estimating the performance of random forest versus multiple regression for predicting prices of the apartments. *ISPRS International Journal of Geo-Information*, 7(5), 168.
- Chen, T. & Guestrin, C. (2016). XGBoost: A scalable tree boosting system. In *Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining* (pp. 785-794).
- Choy, L. H. T. & Ho, W. K. O. (2023). The use of machine learning in real estate research. *Land*, 12(4), 740.
- Fotheringham, A. S., Brunsdon, C. & Charlton, M. (2002). *Geographically Weighted Regression: The Analysis of Spatially Varying Relationships*. Chichester: Wiley.
- Friedman, J. H. (2001). Greedy function approximation: A gradient boosting machine. *Annals of Statistics*, 29(5), 1189-1232.
- Hair, J. F., Black, W. C., Babin, B. J. & Anderson, R. E. (2010). *Multivariate Data Analysis* (7th ed.). Upper Saddle River, NJ: Pearson.
- Hastie, T., Tibshirani, R. & Friedman, J. (2009). *The Elements of Statistical Learning* (2nd ed.). New York: Springer.
- Ke, G., Meng, Q., Finley, T., Wang, T., Chen, W., Ma, W., Ye, Q. & Liu, T.-Y. (2017). LightGBM: A highly efficient gradient boosting decision tree. In *Advances in Neural Information Processing Systems* 30 (pp. 3146-3154).
- Kim, J.-J., Cho, M. & Lee, M.-H. (2022). An analysis of the price determinants of multiplex houses through spatial regression analysis. *Sustainability*, 14(5), 2891.
- Lancaster, K. J. (1966). A new approach to consumer theory. *Journal of Political Economy*, 74(2), 132-157.
- Limsombunchai, V. (2004). House price prediction: Hedonic price model vs. artificial neural network. *New Zealand Economic Papers*, 38(2), 175-190.
- Lundberg, S. M. & Lee, S.-I. (2017). A unified approach to interpreting model predictions. In *Advances in Neural Information Processing Systems* 30 (pp. 4765-4774).
- Lundberg, S. M., Erion, G., Chen, H., DeGrave, A., Prutkin, J. M., Nair, B., Katz, R., Himmelfarb, J., Bansal, N. & Lee, S.-I. (2020). From local explanations to global understanding with explainable AI for trees. *Nature Machine Intelligence*, 2(1), 56-67.
- Mora-García, R. T., Cespedes-Lopez, M. F. & Pérez-Sánchez, V. R. (2022). Housing price prediction using machine learning algorithms in COVID-19 times. *Land*, 11(11), 2100.
- Neves, F. T., Reis, M., Lopes, J. S. & Couto, P. (2024). The impacts of open data and explainable AI on real estate price predictions in smart cities. *Applied Sciences*, 14(5), 2209.
- Ribeiro, M. T., Singh, S. & Guestrin, C. (2016). "Why should I trust you?": Explaining the predictions of any classifier. In *Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining* (pp. 1135-1144).
- Rosen, S. (1974). Hedonic prices and implicit markets: Product differentiation in pure competition. *Journal of Political Economy*, 82(1), 34-55.
---

# Abstract

## Analysis of Determinants of Apartment Sale Prices in Seoul Using XGBoost and SHAP

This study analyzes the determinants of apartment sale prices in Seoul using machine learning and eXplainable Artificial Intelligence (XAI) techniques. While the traditional Hedonic Price Model based on Ordinary Least Squares (OLS) regression has been the standard framework for real estate price analysis, it suffers from inherent limitations in capturing nonlinear relationships and interaction effects among variables. Conversely, high-performance machine learning models achieve superior prediction accuracy but lack interpretability due to their "black box" nature.

To address these limitations, this study collected 308,525 apartment transaction records across all 25 districts of Seoul from January 2019 to December 2024, sourced from publicly available data including the Ministry of Land, Infrastructure and Transport's real transaction price system. Thirteen independent variables were constructed across four categories: physical characteristics (exclusive area, floor level, building age), locational characteristics (Gangnam 3-gu dummy), environmental characteristics (number of elementary/middle/high schools, parks, department stores), and macroeconomic characteristics (base interest rate, CD rate, Consumer Price Index, M2 money supply). An initial total school count variable was excluded due to perfect linear combination with the individual school-level variables (VIF = 129), which caused severe multicollinearity.

Three prediction models — OLS, Random Forest, and XGBoost — were constructed and compared. The machine learning models demonstrated significantly superior performance, with XGBoost achieving an R² of 0.935 and RMSE of 18,653 (in units of 10,000 KRW), compared to OLS with an R² of 0.604 and RMSE of 45,936. Random Forest achieved an R² of 0.927 and RMSE of 19,728. SHAP (SHapley Additive exPlanations) analysis was then applied to the XGBoost model to interpret the contribution of each variable to price determination.

The SHAP analysis revealed that exclusive area (mean |SHAP value| = 24,811) was the most influential determinant, followed by Gangnam location (18,105), building age (12,988), and M2 money supply (8,968). Notably, the number of high schools was statistically insignificant in OLS (p = 0.148) but exhibited meaningful nonlinear contributions in the XGBoost/SHAP framework, demonstrating the analytical advantage of the XAI approach. A comparative analysis between Gangnam 3-gu and non-Gangnam areas confirmed significant spatial heterogeneity in Seoul's apartment market: the Gangnam location premium (SHAP value = 51,943) was overwhelmingly dominant in the Gangnam area, while educational infrastructure (number of middle schools, SHAP value = 5,069) played a relatively more important role in non-Gangnam areas, approximately 1.6 times the influence observed in Gangnam (3,187).

This study contributes to the literature by systematically applying XAI techniques to the Korean apartment market, simultaneously securing both prediction accuracy and interpretability of machine learning models. The findings provide meaningful implications for housing policy formulation, automated valuation model (AVM) development, and evidence-based decision-making in real estate markets.

**Keywords:** Apartment sale prices, XGBoost, SHAP, Explainable Artificial Intelligence (XAI), Hedonic Price Model, Seoul real estate market
# 논문 리뷰 보고서

**대상 논문:** XGBoost와 SHAP을 활용한 서울시 아파트 매매가격 결정요인 분석
**소속:** 한양대학교 부동산융합대학원 도시부동산정책전공
**리뷰 일자:** 2026-02-20
**리뷰어:** Claude (AI-assisted review)

---

## 총평

전체적으로 구성이 잘 잡혀 있고, 이론적 배경부터 실증 분석, 결론까지 논리적 흐름이 명확한 석사논문 초안이다. 선행연구 서베이가 탄탄하며(국내 10편 + 해외 25편 이상), 방법론적 차별성도 적절히 기술되어 있다. 다만 **제출 전 반드시 수정해야 할 형식/스타일 이슈**와 **제출 후 개선하면 좋을 내용적 이슈**가 존재한다. 아래에 두 파트로 나누어 상세히 기술한다.

---

# Part 1: 형식/스타일 (제출 전 긴급 수정 사항)

## 1.1 미완성 데이터 — 플레이스홀더 텍스트 [심각]

<표 2> 기술통계량(line 481~491)에 "약"으로 시작하는 근사값과 다수의 "-" 셀이 존재한다. 석사논문에서 기술통계량의 빈 칸은 치명적 결함이다.

| 위치 | 문제 |
|------|------|
| <표 2> 전체 | 최솟값, 중앙값, 최댓값이 거의 모두 "-" 또는 누락 |
| <표 2> 실거래가 평균 | "약 95,000" → 정확한 수치 필요 |
| <표 3> 상관관계 행렬 | 표 자체가 **존재하지 않음** — 설명만 있고 실제 행렬 테이블 누락 |
| <표 4> OLS 결과 | 표준오차, t값 컬럼이 모두 "-" |
| <표 6> 11~14위 | SHAP값과 비중(%)이 모두 "-" |
| <표 7> 표준편차 | 비강남, 전체 모두 "-" |
| <표 9> 4위 이하 | 강남3구 쪽이 "-" |

**수정 방안:** `results/` 폴더의 실제 데이터로 빈 칸을 모두 채울 것. 특히 `feature_importance.csv`에 11~14위 SHAP값이 명확히 기록되어 있으므로(CD금리 2,087, 기준금리 949, 초등학교수 3,245, 고등학교수 1,353) 즉시 반영 가능하다.

## 1.2 데이터 정합성 오류 — 논문 vs 실제 결과 불일치 [심각]

### (a) <표 6> SHAP 순위와 feature_importance.csv 불일치

논문의 <표 6>에서는 11~14위를 CD금리, 기준금리, 초등학교수, 고등학교수 순서로 나열했으나, `feature_importance.csv` 기준 SHAP 절대값 순위는:

| 순위 | 논문 <표 6> | CSV 실제값 | 실제 순위 |
|------|------------|-----------|----------|
| 11 | CD금리 (빈칸) | 초등학교수: 3,245 | 11위 |
| 12 | 기준금리 (빈칸) | CD금리: 2,087 | 12위 |
| 13 | 초등학교수 (빈칸) | 고등학교수: 1,353 | 13위 |
| 14 | 고등학교수 (빈칸) | 기준금리: 949 | 14위 |

→ **순위가 뒤바뀌어 있다.** CSV 데이터 기준으로 정확히 재배열해야 한다.

### (b) OLS 회귀계수 해석 오류

논문(line 525)에서 "전용면적 1㎡ 증가 시 매매가격이 평균 약 3억 8천만 원 상승"이라고 기술했다. `feature_importance.csv`의 `OLS_coef` 값은 37,991이며, 코드(`modeling.py` line 138~143)를 보면 **OLS는 StandardScaler로 표준화한 후 적합**했다. 따라서 이 계수는 **비표준화 회귀계수가 아니라 표준화 회귀계수**이다. 코드 line 150에도 `OLS 회귀계수 (표준화)`라고 명시되어 있다.

그러나 <표 4>(line 513)의 열 제목은 "비표준화 회귀계수"로 되어 있고, 본문 해석도 "전용면적 1㎡ 증가 시"라는 비표준화 해석을 하고 있다. **이는 심각한 오류**이다.

**수정 방안 (택 1):**
- (A) <표 4> 제목을 "표준화 회귀계수"로 수정하고, 해석을 "전용면적이 1 표준편차 증가 시"로 수정
- (B) 코드에서 StandardScaler 없이 원래 단위로 OLS를 재적합하여 비표준화 계수를 새로 산출

(B)를 강력 권장한다. 학술 논문에서 헤도닉 가격모형의 회귀계수는 통상 비표준화 계수로 보고하며, "1㎡당 얼마"라는 직관적 해석이 가능해야 한다.

## 1.3 논문-코드 간 방법론 불일치 [중요]

| 논문 기술 | 코드 실제 | 차이 |
|-----------|----------|------|
| "GridSearchCV를 통해 최적 하이퍼파라미터 탐색" (line 431, 437) | `modeling.py`에 GridSearchCV 코드 **없음** — 하이퍼파라미터 하드코딩 | 논문이 코드보다 앞서감 |
| "5-Fold 교차검증(Cross Validation) 적용" (line 417, 437) | `modeling.py`에 CV 코드 **없음** | 동일 |
| RF `min_samples_split` 튜닝 언급 (line 431) | 코드는 `min_samples_leaf=10` 고정 | 파라미터명 불일치 |
| "테스트 데이터에 대한 SHAP값 산출" (line 441) | 코드는 테스트 데이터에서 `sample_size=min(5000, len(X_test))`로 샘플링 (line 228~229) | 샘플링 사실 미기재 |
| "308,525건" 분석 (line 121) | 코드에서 결측치 제거 후 실제 분석 건수 다를 수 있음 | 최종 분석 건수 미확인 |

**수정 방안:**
- GridSearchCV와 5-Fold CV를 실제로 코드에 구현하거나, 논문에서 해당 기술을 삭제/수정
- SHAP 분석 시 샘플링 사실을 논문에 명시 ("테스트 데이터 중 5,000건을 랜덤 샘플링하여 SHAP값을 산출하였다")

## 1.4 그림/도표 관련 [중요]

- <그림 2> XGBoost 알고리즘 개념도 → 그림 목차에 존재하나 **본문에 삽입되지 않음**
- <그림 3> SHAP 분석 프레임워크 → **본문 미삽입**
- <그림 4> SHAP Summary Plot → **본문 미삽입**
- <그림 5> SHAP Bar Plot → 본문 언급은 있으나 실제 이미지 없음
- <그림 6~9> → 캡션만 존재, 실제 플롯 미삽입
- <그림 1>만 텍스트 기반 흐름도로 존재

**수정 방안:** `scripts/` 또는 별도 시각화 스크립트로 모든 SHAP 플롯을 생성하여 삽입. 석사논문에서 그림은 핵심 근거이므로 반드시 포함되어야 한다.

## 1.5 참고문헌 형식 [보통]

### (a) 본문 인용-참고문헌 간 누락/불일치

| 본문 인용 | 참고문헌 목록 | 상태 |
|-----------|-------------|------|
| Lundberg et al. (2020) — TreeSHAP (line 269) | **누락** — Lundberg & Lee(2017)만 수록 | 추가 필요 |
| 통계청(2024) (line 95) | **누락** | 추가 필요 |
| Yoo & Koo (2024) | **누락** — references 서베이에는 있으나 논문 본문과 참고문헌 모두 미수록 | (사용 시 추가) |
| Wang et al. (2023) | references 서베이에는 있으나 **논문 참고문헌 미수록** | (사용 시 추가) |
| 통계청(2024) | 웹사이트 참고 형식 필요 | APA 양식 적용 |

### (b) 형식 불일치

- 국내문헌: 학위논문은 "OO대학교 석사학위논문"으로 통일되어 있어 양호
- 해외문헌: 대체로 APA 7th 양식을 따르나, 일부 학술지명 이탤릭 미적용 (마크다운 한계일 수 있음)
- 한국어 저자의 영문 논문 (Na, Ko & Park, 2025; Park, Oh & Won, 2024 등): 참고문헌에는 영문으로 수록되어 있으나, 본문 이론적 배경에서 한글로 언급 — 통일 필요

## 1.6 용어 일관성 [보통]

| 불일치 사례 | 위치 | 수정안 |
|------------|------|--------|
| "건물연령" vs "경과연수" | 본문 전반 혼용 | 하나로 통일 (변수명 "건물연령"으로 통일 권장) |
| "거래금액" (코드) vs "실거래가" (논문) vs "매매가격" (논문) | 코드-논문 간 | 논문 내에서는 "실거래가(만원)"으로 통일 |
| "SHAP값" vs "SHAP value" vs "|SHAP값|" | 본문 전반 | "SHAP값"으로 통일, 절대값 표기 시 "평균 |SHAP값|" |
| "글로벌 변수 중요도" vs "Global Feature Importance" | line 133, 443 등 | 한글 또는 영문 하나로 통일 |

## 1.7 학술 논문체 스타일 [경미]

전체적으로 학술 논문체를 잘 유지하고 있다. 다만 몇 가지 사소한 점:

- "여실히 보여주는" (line 632) → "명확히 보여주는" (더 학술적)
- "왜 특정 아파트의 가격이 이렇게 형성되었는가?" (line 99) → 인용부호 사용은 좋으나, 연구 배경 문단에서의 수사적 질문은 적절함
- "폭발적으로 증가" (line 193) → "급격히 증가" (더 절제된 표현)

## 1.8 전각/반각 문자 혼용 [경미]

마크다운 파일 특성상 큰 문제는 아니나, 최종 워드/LaTeX 변환 시 확인 필요:
- 괄호: 대부분 반각 `()` 사용으로 통일되어 있어 양호
- 쉼표: 한글 문장 내 반각 `,` 사용 — 한국어 학술논문에서는 전각 `，` 또는 반각 `,` 모두 허용되나, 학교 양식에 맞출 것

---

# Part 2: 내용 (제출 후 개선 사항)

## 2.1 논리 구조 일관성 [중요]

### (a) 연구 목적 4가지 — 결론 매핑

| 연구 목적 (제1장 line 107~113) | 결론에서 대응 여부 |
|-------------------------------|------------------|
| 첫째: 모형 예측 성능 비교 | O — 결론 첫째 |
| 둘째: SHAP 변수 중요도 분석 | O — 결론 둘째 |
| 셋째: 강남/비강남 비교분석 | O — 결론 셋째 |
| 넷째: 정책 시사점 도출 | △ — 시사점 절에서 다루나, 결론 요약의 넷째와는 다소 어긋남 (결론 넷째는 AVM 활용 가능성) |

→ 연구 목적 넷째와 결론 넷째가 정확히 대응하도록 조정 권장.

### (b) 제3장-제4장 간 역할 분리

대체로 양호하다. 제3장은 방법론, 제4장은 결과로 잘 분리되어 있다. 다만:
- 제3장 제3절의 "SHAP 분석" 기술 (line 441~447)에서 "글로벌 해석"과 "개별 해석"의 구체적 내용이 제4장 결과와 다소 중복된다. 제3장에서는 방법론적 절차만 기술하고, 해석 내용은 제4장에서 다루는 것이 바람직하다.

## 2.2 선행연구 커버리지 [보통]

### 강점
- 해외 XAI+부동산 연구 서베이가 매우 탄탄 (Neves, Dou, Kee & Ho, Tchuente, Krämer 등)
- 국내 선행연구도 조민지(2023), 김선현(2022), Na et al.(2025), Park et al.(2024) 등 적절히 인용
- 기초이론(Lancaster, Rosen)부터 방법론(Chen & Guestrin, Lundberg & Lee)까지 계통적

### 보완 권장
- `references/부동산_빅데이터_선행연구_서베이_확장.md`에 수록된 논문 중 본문에서 아직 인용하지 않은 유관 연구:
  - **Yoo & Koo (2024)** — 서울 아파트 매매가 불연속적 공간 이질성. 제4절(강남/비강남 비교) 논의에 직접 관련
  - **Lee & Kim (2025)** — 서울 소지역 ML 기반 가격지수. 향후 과제에서 언급 가능
  - **Han et al. (2025)** — 근린 가로경관 비선형 효과 + 해석가능 ML. SHAP Dependence 논의에 관련
  - **Mora-García et al. (2022)** — COVID 시기 ML 주택가격 예측. 연구 기간(2019~2024) 맥락에서 인용 가능
- **COVID-19 영향** 관련 선행연구가 본문에서 거의 다뤄지지 않음. 연구 기간이 2019~2024로 팬데믹 전 구간을 포함하므로, 코로나 시기 주택시장 변동에 대한 선행연구(D'Lima & Schultz, 2021; Zhao, 2020 등)를 제2장에서 간략히 언급하면 좋겠다.

## 2.3 방법론 설명 충분성 [중요]

### (a) XGBoost 하이퍼파라미터 보고 누락

코드에서 사용한 실제 하이퍼파라미터:
```
n_estimators=500, max_depth=8, learning_rate=0.05,
subsample=0.8, colsample_bytree=0.8, min_child_weight=5,
reg_alpha=0.1, reg_lambda=1.0, early_stopping_rounds=50
```

논문에서는 파라미터 종류만 나열하고 **실제 사용한 값을 보고하지 않았다.** 재현성(reproducibility)을 위해 최종 사용 파라미터를 표 형태로 명시해야 한다.

### (b) Random Forest 하이퍼파라미터

코드: `n_estimators=200, max_depth=15, min_samples_leaf=10`
논문에서 미보고. 역시 표로 명시 필요.

### (c) 데이터 전처리 상세 부족

- 이상값 제거 기준이 기술되지 않음 (IQR 방식? 퍼센타일?)
- 결측값 처리 방법: 코드에서는 0으로 대체(`fillna(0)`) — 논문에서 명시 필요
- 변수 생성(건물연령 등) 산출 방법 미기술

### (d) 강남/비강남 별도 모형 vs 전체 모형 SHAP

제4절에서 "별도의 XGBoost 모형을 구축"했다고 기술하나(line 636), 코드(`modeling.py` line 248~275)를 보면 **전체 모형 하나를 학습한 후 테스트 데이터를 강남/비강남으로 나눠 평가**한 것이다. 별도 모형 구축이 아님.

SHAP 비교도 마찬가지로, 전체 모형의 SHAP값을 지역별로 분리한 것이지 지역별 별도 모형의 SHAP이 아니다. **이는 논문의 기술과 실제 분석의 불일치**이다.

**수정 방안 (택 1):**
- (A) 논문 기술을 "전체 모형의 예측 및 SHAP값을 지역별로 분리하여 비교 분석하였다"로 수정
- (B) 실제로 강남/비강남 각각에 대해 별도 XGBoost 모형을 구축하고 SHAP 분석을 수행하는 코드로 수정

(A)가 현실적이나, 해석의 타당성 면에서 (B)가 더 바람직하다. 전체 모형의 SHAP값은 전체 데이터 분포에 기반한 기여도이므로, 지역별 서브셋에서의 가격 결정 메커니즘을 정확히 반영하지 못할 수 있다.

## 2.4 결과 해석 품질 [보통]

### 강점
- SHAP 결과에 대한 경제학적 해석이 풍부 (인플레이션 헤지, 재건축 기대감 등)
- OLS와 SHAP 비교(제3절 2항)는 매우 좋은 분석 포인트
- 강남/비강남 비교분석의 정책적 함의 도출이 적절

### 개선 권장

**(a) RF vs XGBoost 모형 선택 논리 보강**

논문에서 XGBoost를 주 모형으로 선택한 이유를 "SHAP을 통한 효율적인 해석이 가능"(line 545)으로 설명했다. 그러나 RF도 TreeSHAP으로 해석이 가능하다. 보다 설득력 있는 근거가 필요:
- XGBoost의 정규화로 인한 일반화 성능
- Boosting의 순차 학습이 변수 간 상호작용을 더 잘 포착
- 선행연구(Kee & Ho, 2025)에서의 XGBoost 선택 근거 인용

**(b) Dependence Plot 해석의 추측적 표현**

line 604에서 건물연령 Dependence Plot에 대해 "U자형 패턴이 나타날 수 있다"라고 **추측형**으로 기술하고 있다. 실제 플롯이 생성되면 관찰된 패턴을 단정적으로 기술해야 한다. 현재 시각화가 누락된 상태에서 결과를 미리 서술한 것으로 보인다.

**(c) MAPE 39.87%에 대한 논의 부족**

OLS의 MAPE가 39.87%라는 것은 평균적으로 40% 가까운 예측 오차를 의미한다. 이것이 높은 수치인지, 선행연구 대비 어느 수준인지에 대한 맥락적 논의가 부족하다.

## 2.5 결론의 구체성 [보통]

### (a) 시사점이 다소 일반적

정책적 시사점(제5장 제2절)에서 "공급 확대와 함께 비강남 지역의 생활 인프라 투자를 통한 지역 간 격차 해소가 병행되어야"(line 706)라는 제언은 SHAP 분석 없이도 도출 가능한 일반론에 가깝다.

**개선 제안:** SHAP값을 활용한 **구체적 수치 기반 시사점**을 추가. 예: "M2 통화량 1조원 증가 시 평균 아파트 가격에 미치는 영향이 약 X만원이므로, 유동성 관리 정책의 주택가격 민감도는 ..."

### (b) 학술적 기여의 국제적 포지셔닝

결론에서 본 연구의 학술적 기여를 주로 "국내 최초" 관점에서 기술하고 있다. 해외 선행연구(Kee & Ho, 2025; Neves et al., 2024 등)와의 **결과 비교** (예: 서울 vs 홍콩/리스본에서 각각 어떤 변수가 중요했는지)를 추가하면 국제적 맥락에서의 기여도가 높아진다.

## 2.6 기타 내용적 사항

### (a) 환경 변수의 구 단위 한계

논문에서도 한계로 인식하고 있으나(제5장 제3절), 보다 근본적인 문제는 **학교수, 공원수, 백화점수가 구 단위 집계**라는 것이다. 같은 구 내 모든 거래에 동일한 환경 변수가 부여되므로, 이 변수들은 사실상 25개 자치구를 구분하는 범주형 변수와 유사하게 작용한다. 이 점을 제3장 변수 설정 부분에서 명시적으로 언급하고, SHAP 해석 시 주의점으로 기술하면 논문의 방법론적 투명성이 높아진다.

### (b) 다중공선성 진단 결과 미보고

제3절(line 427)에서 VIF 진단을 수행했다고 기술하나, 실제 VIF 값이 보고되지 않았다. 특히 거시경제 변수들(기준금리, CD금리, M2, CPI) 간 다중공선성이 예상되므로 VIF 결과표를 추가해야 한다.

### (c) early_stopping의 데이터 누출 가능성

`modeling.py`(line 200)에서 `eval_set=[(X_test, y_test)]`로 early stopping을 수행하고 있다. 이는 테스트셋을 검증셋으로 사용하는 것으로, 엄밀하게는 **데이터 누출(data leakage)**에 해당한다. 별도 validation set을 분리하거나 CV 기반 early stopping을 사용하는 것이 바람직하다. 논문에서 이 점을 한계로 언급하거나, 코드를 수정해야 한다.

---

# 수정 우선순위 요약

## 제출 전 필수 (P0)

| # | 항목 | 난이도 | 참조 |
|---|------|--------|------|
| 1 | <표 2~9> 플레이스홀더("-", "약") → 실제 수치로 대체 | 중 | §1.1 |
| 2 | <표 3> 상관관계 행렬 테이블 생성·삽입 | 중 | §1.1 |
| 3 | OLS 표준화/비표준화 계수 오류 수정 | 상 | §1.2(b) |
| 4 | <표 6> SHAP 순위 11~14위 순서 수정 및 수치 보충 | 하 | §1.2(a) |
| 5 | <그림 2~9> 시각화 생성 및 삽입 | 상 | §1.4 |
| 6 | GridSearchCV/CV 미구현 — 논문 또는 코드 수정 | 상 | §1.3 |
| 7 | SHAP 샘플링 사실 논문에 명시 | 하 | §1.3 |
| 8 | 강남/비강남 "별도 모형" 기술 vs 실제 "전체 모형 분리 평가" 불일치 수정 | 중 | §2.3(d) |
| 9 | Lundberg et al.(2020), 통계청(2024) 참고문헌 추가 | 하 | §1.5(a) |
| 10 | XGBoost/RF 하이퍼파라미터 실제 값 보고 | 하 | §2.3(a,b) |

## 제출 후 개선 (P1)

| # | 항목 | 난이도 | 참조 |
|---|------|--------|------|
| 11 | COVID-19 시기 선행연구 보완 | 하 | §2.2 |
| 12 | 해외 연구 결과와 비교 논의 추가 | 중 | §2.5(b) |
| 13 | 구 단위 환경변수의 방법론적 한계 명시 | 하 | §2.6(a) |
| 14 | VIF 진단 결과 보고 | 중 | §2.6(b) |
| 15 | early_stopping 데이터 누출 해소 | 중 | §2.6(c) |
| 16 | 시사점의 수치 기반 구체화 | 중 | §2.5(a) |
| 17 | 용어 통일 (건물연령/경과연수, 실거래가/거래금액) | 하 | §1.6 |
| 18 | RF vs XGBoost 모형 선택 논리 보강 | 하 | §2.4(a) |

---

# 부록: 데이터 교차검증 상세

## A. model_comparison.csv vs 논문 <표 5>

| 항목 | CSV | 논문 | 일치 |
|------|-----|------|------|
| OLS R² | 0.6042 | 0.6042 | O |
| OLS RMSE | 45,901 | 45,901 | O |
| OLS MAE | 30,274 | 30,274 | O |
| OLS MAPE | 39.87 | 39.87 | O |
| RF R² | 0.9191 | 0.9191 | O |
| RF RMSE | 20,754 | 20,754 | O |
| XGBoost R² | 0.9183 | 0.9183 | O |
| XGBoost RMSE | 20,851 | 20,851 | O |

→ <표 5> 데이터는 CSV와 완전 일치. 양호.

## B. feature_importance.csv vs 논문 <표 6>

| 변수 | CSV SHAP값 | 논문 SHAP값 | 일치 |
|------|-----------|------------|------|
| 전용면적 | 25,162.582 | 25,163 | O (반올림) |
| 강남구분 | 18,055.63 | 18,056 | O |
| 건물연령 | 12,647.042 | 12,647 | O |
| M2 | 8,839.631 | 8,840 | O |
| 소비자물가지수 | 5,714.273 | 5,714 | O |
| 백화점수 | 5,495.149 | 5,495 | O |
| 중학교수 | 4,185.09 | 4,185 | O |
| 공원수 | 4,002.321 | 4,002 | O |
| 학교수 | 3,998.372 | 3,998 | O |
| 층 | 3,911.283 | 3,911 | O |
| 초등학교수 | 3,245.111 | - (미기재) | X |
| CD금리 | 2,087.415 | - (미기재) | X |
| 고등학교수 | 1,353.129 | - (미기재) | X |
| 기준금리 | 949.053 | - (미기재) | X |

→ 상위 10개 변수 값은 일치. 11~14위 순서 오류 및 값 누락은 §1.2(a) 참조.

## C. 참고문헌 목록 vs references/ 서베이 커버리지

논문 참고문헌: 33편 (국내 10편 + 해외 23편)
References 서베이 수록: 55편

서베이에 있으나 논문에 미인용된 주요 논문:
- Yoo & Koo (2024) — 공간 이질성 (직접 관련)
- Lee & Kim (2025) — 소지역 ML 가격지수
- Han et al. (2025) — 해석가능 ML 가로경관
- Mora-García et al. (2022) — COVID ML (인용 가능)
- D'Lima & Schultz (2021) — COVID 주택시장
- Cellmer & Kobylińska (2024) — ML+지오통계
- Wu et al. (2022) — GTWR

→ 이 중 Yoo & Koo(2024)와 Mora-García et al.(2022)는 논문 내용과 직접 관련되므로 인용 검토 권장.
